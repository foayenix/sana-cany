{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":43,"index":254}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]);function s(t,s,o){return s in t?Object.defineProperty(t,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[s]=o,t}e.default=class{constructor(t){s(this,\"onRotationBegin\",void 0),s(this,\"onRotation\",void 0),s(this,\"onRotationEnd\",void 0),s(this,\"currentTime\",0),s(this,\"previousTime\",0),s(this,\"previousAngle\",0),s(this,\"_rotation\",0),s(this,\"_anchorX\",0),s(this,\"_anchorY\",0),s(this,\"isInProgress\",!1),s(this,\"keyPointers\",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,s){this.previousTime=this.currentTime,this.currentTime=t.time;const[o,n]=this.keyPointers,h=s.getLastAbsoluteCoords(o),u=s.getLastAbsoluteCoords(n),P=u.x-h.x,c=u.y-h.y;this._anchorX=(h.x+u.x)/2,this._anchorY=(h.y+u.y)/2;const v=-Math.atan2(c,P);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-v,this.previousAngle=v,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const s=t.trackedPointers.keys();this.keyPointers[0]=s.next().value,this.keyPointers[1]=s.next().value}onTouchEvent(s,o){switch(s.eventType){case t.EventTypes.DOWN:this.isInProgress=!1;break;case t.EventTypes.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=s.time,this.previousAngle=NaN,this.setKeyPointers(o),this.updateCurrent(s,o),this.onRotationBegin(this);break;case t.EventTypes.MOVE:if(!this.isInProgress)break;this.updateCurrent(s,o),this.onRotation(this);break;case t.EventTypes.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(s.pointerId)>=0&&this.finish();break;case t.EventTypes.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}});","lineCount":1,"map":[[1,94,3,0],[1,98,3,0,"_interfaces"],[1,100,3,0,"r"],[1,102,3,0,"d"],[1,104,3,0],[1,108,1,0],[1,117,1,9,"_defineProperty"],[1,119,1,25,"obj"],[1,121,1,30,"key"],[1,123,1,35,"value"],[1,126,1,196],[1,133,1,48,"key"],[1,138,1,55,"obj"],[1,140,1,62,"Object"],[1,147,1,69,"defineProperty"],[1,162,1,84,"obj"],[1,164,1,89,"key"],[1,166,1,94],[1,167,1,96,"value"],[1,173,1,103,"value"],[1,175,1,110,"enumerable"],[1,187,1,122],[1,189,1,128,"configurable"],[1,203,1,142],[1,205,1,148,"writable"],[1,215,1,158],[1,219,1,176,"obj"],[1,221,1,180,"key"],[1,224,1,187,"value"],[1,226,1,203,"obj"],[1,227,1,208],[1,228,152,1,"e"],[1,230,152,1,"default"],[1,238,4,15],[1,244,5,2,"constructor"],[1,256,5,14,"callbacks"],[1,259,6,4,"_defineProperty"],[1,261,6,20,"this"],[1,266,6,26],[1,289,6,43,"undefined"],[1,292,8,4,"_defineProperty"],[1,294,8,20,"this"],[1,299,8,26],[1,317,8,38,"undefined"],[1,320,10,4,"_defineProperty"],[1,322,10,20,"this"],[1,327,10,26],[1,348,10,41,"undefined"],[1,351,12,4,"_defineProperty"],[1,353,12,20,"this"],[1,358,12,26],[1,372,12,41],[1,375,14,4,"_defineProperty"],[1,377,14,20,"this"],[1,382,14,26],[1,397,14,42],[1,400,16,4,"_defineProperty"],[1,402,16,20,"this"],[1,407,16,26],[1,423,16,43],[1,426,18,4,"_defineProperty"],[1,428,18,20,"this"],[1,433,18,26],[1,445,18,39],[1,448,20,4,"_defineProperty"],[1,450,20,20,"this"],[1,455,20,26],[1,466,20,38],[1,469,22,4,"_defineProperty"],[1,471,22,20,"this"],[1,476,22,26],[1,487,22,38],[1,490,24,4,"_defineProperty"],[1,492,24,20,"this"],[1,497,24,26],[1,513,24,42],[1,516,26,4,"_defineProperty"],[1,518,26,20,"this"],[1,523,26,26],[1,537,26,41],[1,538,26,42,"NaN"],[1,542,26,47,"NaN"],[1,548,28,4,"this"],[1,553,28,9,"onRotationBegin"],[1,569,28,27,"callbacks"],[1,571,28,37,"onRotationBegin"],[1,587,29,4,"this"],[1,592,29,9,"onRotation"],[1,603,29,22,"callbacks"],[1,605,29,32,"onRotation"],[1,616,30,4,"this"],[1,621,30,9,"onRotationEnd"],[1,635,30,25,"callbacks"],[1,637,30,35,"onRotationEnd"],[1,650,31,2],[1,651,33,2,"updateCurrent"],[1,665,33,16,"event"],[1,667,33,23,"tracker"],[1,670,34,4,"this"],[1,675,34,9,"previousTime"],[1,688,34,24,"this"],[1,693,34,29,"currentTime"],[1,705,35,4,"this"],[1,710,35,9,"currentTime"],[1,722,35,23,"event"],[1,724,35,29,"time"],[1,729,36,4],[1,735,36,11,"firstPointerID"],[1,737,36,27,"secondPointerID"],[1,740,36,46,"this"],[1,745,36,51,"keyPointers"],[1,757,37,10,"firstPointerCoords"],[1,759,37,31,"tracker"],[1,761,37,39,"getLastAbsoluteCoords"],[1,783,37,61,"firstPointerID"],[1,786,38,10,"secondPointerCoords"],[1,788,38,32,"tracker"],[1,790,38,40,"getLastAbsoluteCoords"],[1,812,38,62,"secondPointerID"],[1,815,39,10,"vectorX"],[1,817,39,20,"secondPointerCoords"],[1,819,39,40,"x"],[1,821,39,44,"firstPointerCoords"],[1,823,39,63,"x"],[1,825,40,10,"vectorY"],[1,827,40,20,"secondPointerCoords"],[1,829,40,40,"y"],[1,831,40,44,"firstPointerCoords"],[1,833,40,63,"y"],[1,835,41,4,"this"],[1,840,41,9,"_anchorX"],[1,850,41,21,"firstPointerCoords"],[1,852,41,40,"x"],[1,854,41,44,"secondPointerCoords"],[1,856,41,64,"x"],[1,859,41,69],[1,861,42,4,"this"],[1,866,42,9,"_anchorY"],[1,876,42,21,"firstPointerCoords"],[1,878,42,40,"y"],[1,880,42,44,"secondPointerCoords"],[1,882,42,64,"y"],[1,885,42,69],[1,887,44,4],[1,893,44,10,"angle"],[1,896,44,19,"Math"],[1,901,44,24,"atan2"],[1,907,44,30,"vectorY"],[1,909,44,39,"vectorX"],[1,912,45,4,"this"],[1,917,45,9,"_rotation"],[1,927,45,21,"Number"],[1,934,45,28,"isNaN"],[1,940,45,34,"this"],[1,945,45,39,"previousAngle"],[1,960,45,56],[1,962,45,60,"this"],[1,967,45,65,"previousAngle"],[1,981,45,81,"angle"],[1,983,46,4,"this"],[1,988,46,9,"previousAngle"],[1,1002,46,25,"angle"],[1,1004,48,8,"this"],[1,1009,48,13,"rotation"],[1,1018,48,24,"Math"],[1,1023,48,29,"PI"],[1,1026,49,6,"this"],[1,1031,49,11,"_rotation"],[1,1042,49,24,"Math"],[1,1047,49,29,"PI"],[1,1050,50,15,"this"],[1,1055,50,20,"rotation"],[1,1065,50,32,"Math"],[1,1070,50,37,"PI"],[1,1075,51,6,"this"],[1,1080,51,11,"_rotation"],[1,1091,51,24,"Math"],[1,1096,51,29,"PI"],[1,1100,54,8,"this"],[1,1105,54,13,"rotation"],[1,1114,54,24,"Math"],[1,1119,54,29,"PI"],[1,1122,54,34],[1,1124,55,6,"this"],[1,1129,55,11,"_rotation"],[1,1140,55,24,"Math"],[1,1145,55,29,"PI"],[1,1148,56,15,"this"],[1,1153,56,20,"rotation"],[1,1163,56,32,"Math"],[1,1168,56,37,"PI"],[1,1171,56,42],[1,1175,57,6,"this"],[1,1180,57,11,"_rotation"],[1,1191,57,24,"Math"],[1,1196,57,29,"PI"],[1,1199,59,2],[1,1200,61,2,"finish"],[1,1209,62,9,"this"],[1,1214,62,14,"isInProgress"],[1,1229,66,4,"this"],[1,1234,66,9,"isInProgress"],[1,1248,66,24],[1,1250,67,4,"this"],[1,1255,67,9,"keyPointers"],[1,1267,67,23],[1,1268,67,24,"NaN"],[1,1272,67,29,"NaN"],[1,1277,68,4,"this"],[1,1282,68,9,"onRotationEnd"],[1,1296,68,23,"this"],[1,1302,69,2],[1,1303,71,2,"setKeyPointers"],[1,1318,71,17,"tracker"],[1,1321,72,4],[1,1324,72,8,"this"],[1,1329,72,13,"keyPointers"],[1,1341,72,25],[1,1345,72,31,"this"],[1,1350,72,36,"keyPointers"],[1,1362,72,48],[1,1365,73,6],[1,1372,76,4],[1,1378,76,10,"pointerIDs"],[1,1380,76,23,"tracker"],[1,1382,76,31,"trackedPointers"],[1,1398,76,47,"keys"],[1,1405,77,4,"this"],[1,1410,77,9,"keyPointers"],[1,1422,77,21],[1,1425,77,26,"pointerIDs"],[1,1427,77,37,"next"],[1,1434,77,44,"value"],[1,1440,78,4,"this"],[1,1445,78,9,"keyPointers"],[1,1457,78,21],[1,1460,78,26,"pointerIDs"],[1,1462,78,37,"next"],[1,1469,78,44,"value"],[1,1474,79,2],[1,1475,81,2,"onTouchEvent"],[1,1488,81,15,"event"],[1,1490,81,22,"tracker"],[1,1493,82,4],[1,1500,82,12,"event"],[1,1502,82,18,"eventType"],[1,1513,83,6],[1,1518,83,11,"EventTypes"],[1,1531,83,22,"DOWN"],[1,1536,84,8,"this"],[1,1541,84,13,"isInProgress"],[1,1555,84,28],[1,1557,85,8],[1,1563,87,6],[1,1568,87,11,"EventTypes"],[1,1581,87,22,"ADDITIONAL_POINTER_DOWN"],[1,1605,88,8],[1,1608,88,12,"this"],[1,1613,88,17,"isInProgress"],[1,1626,89,10],[1,1632,92,8,"this"],[1,1637,92,13,"isInProgress"],[1,1651,92,28],[1,1653,93,8,"this"],[1,1658,93,13,"previousTime"],[1,1671,93,28,"event"],[1,1673,93,34,"time"],[1,1678,94,8,"this"],[1,1683,94,13,"previousAngle"],[1,1697,94,29,"NaN"],[1,1701,95,8,"this"],[1,1706,95,13,"setKeyPointers"],[1,1721,95,28,"tracker"],[1,1724,96,8,"this"],[1,1729,96,13,"updateCurrent"],[1,1743,96,27,"event"],[1,1745,96,34,"tracker"],[1,1748,97,8,"this"],[1,1753,97,13,"onRotationBegin"],[1,1769,97,29,"this"],[1,1775,98,8],[1,1781,100,6],[1,1786,100,11,"EventTypes"],[1,1799,100,22,"MOVE"],[1,1804,101,8],[1,1808,101,13,"this"],[1,1813,101,18,"isInProgress"],[1,1826,102,10],[1,1832,105,8,"this"],[1,1837,105,13,"updateCurrent"],[1,1851,105,27,"event"],[1,1853,105,34,"tracker"],[1,1856,106,8,"this"],[1,1861,106,13,"onRotation"],[1,1872,106,24,"this"],[1,1878,107,8],[1,1884,109,6],[1,1889,109,11,"EventTypes"],[1,1902,109,22,"ADDITIONAL_POINTER_UP"],[1,1924,110,8],[1,1928,110,13,"this"],[1,1933,110,18,"isInProgress"],[1,1946,111,10],[1,1952,114,12,"this"],[1,1957,114,17,"keyPointers"],[1,1969,114,29,"indexOf"],[1,1977,114,37,"event"],[1,1979,114,43,"pointerId"],[1,1991,114,57],[1,1994,115,10,"this"],[1,1999,115,15,"finish"],[1,2008,118,8],[1,2014,120,6],[1,2019,120,11,"EventTypes"],[1,2032,120,22,"UP"],[1,2035,121,12,"this"],[1,2040,121,17,"isInProgress"],[1,2054,122,10,"this"],[1,2059,122,15,"finish"],[1,2068,128,4],[1,2075,128,11],[1,2076,129,2],[1,2077,131,2,"reset"],[1,2085,132,4,"this"],[1,2090,132,9,"keyPointers"],[1,2102,132,23],[1,2103,132,24,"NaN"],[1,2107,132,29,"NaN"],[1,2112,133,4,"this"],[1,2117,133,9,"isInProgress"],[1,2131,133,24],[1,2132,134,2],[1,2133,136,2],[1,2144,136,6,"anchorX"],[1,2147,137,4],[1,2154,137,11,"this"],[1,2159,137,16,"_anchorX"],[1,2167,138,2],[1,2168,140,2],[1,2179,140,6,"anchorY"],[1,2182,141,4],[1,2189,141,11,"this"],[1,2194,141,16,"_anchorY"],[1,2202,142,2],[1,2203,144,2],[1,2215,144,6,"rotation"],[1,2218,145,4],[1,2225,145,11,"this"],[1,2230,145,16,"_rotation"],[1,2239,146,2],[1,2240,148,2],[1,2253,148,6,"timeDelta"],[1,2256,149,4],[1,2263,149,11,"this"],[1,2268,149,16,"currentTime"],[1,2280,149,30,"this"],[1,2285,149,35,"previousTime"],[1,2297,150,2],[1,2299,152,1],[1,2302]],"functionMap":{"names":["_defineProperty","<global>","RotationGestureDetector","constructor","updateCurrent","finish","setKeyPointers","onTouchEvent","reset","get__anchorX","get__anchorY","get__rotation","get__timeDelta"],"mappings":"AAA,iNC;eCG;ECC;GD0B;EEE;GF0B;EGE;GHQ;EIE;GJQ;EKE;GLgD;EME;GNG;EOE;GPE;EQE;GRE;ESE;GTE;EUE;GVE;CDE"}},"type":"js/module"}]}