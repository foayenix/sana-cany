{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"]}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":46,"index":294}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"]}},{"name":"../detectors/RotationGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":295},"end":{"line":5,"column":75,"index":370}}],"key":"daz0h2jVVKKbGU+XUZZYS7vasjE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var o=r(d[1]),n=t(r(d[2])),s=t(r(d[3]));function h(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}const c=Math.PI/36;class u extends n.default{constructor(...t){super(...t),h(this,\"rotation\",0),h(this,\"velocity\",0),h(this,\"cachedAnchorX\",0),h(this,\"cachedAnchorY\",0),h(this,\"rotationGestureListener\",{onRotationBegin:t=>!0,onRotation:t=>{const n=this.rotation;this.rotation+=t.rotation;const s=t.timeDelta;return s>0&&(this.velocity=(this.rotation-n)/s),Math.abs(this.rotation)>=c&&this.state===o.State.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}}),h(this,\"rotationGestureDetector\",new s.default(this.rotationGestureListener))}init(t,o){super.init(t,o),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.state===o.State.ACTIVE&&(this.state===o.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===o.State.UNDETERMINED&&this.begin()}onReset(){this.state!==o.State.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}e.default=u});","lineCount":1,"map":[[1,108,3,0],[1,112,3,0,"_State"],[1,114,3,0,"r"],[1,116,3,0,"d"],[1,118,3,0],[1,122,4,0,"_GestureHandler"],[1,124,4,0,"_interopRequireDefault"],[1,126,4,0,"r"],[1,128,4,0,"d"],[1,130,4,0],[1,135,5,0,"_RotationGestureDetector"],[1,137,5,0,"_interopRequireDefault"],[1,139,5,0,"r"],[1,141,5,0,"d"],[1,143,5,0],[1,148,1,0],[1,157,1,9,"_defineProperty"],[1,159,1,25,"obj"],[1,161,1,30,"key"],[1,163,1,35,"value"],[1,166,1,196],[1,173,1,48,"key"],[1,178,1,55,"obj"],[1,180,1,62,"Object"],[1,187,1,69,"defineProperty"],[1,202,1,84,"obj"],[1,204,1,89,"key"],[1,206,1,94],[1,207,1,96,"value"],[1,213,1,103,"value"],[1,215,1,110,"enumerable"],[1,227,1,122],[1,229,1,128,"configurable"],[1,243,1,142],[1,245,1,148,"writable"],[1,255,1,158],[1,259,1,176,"obj"],[1,261,1,180,"key"],[1,264,1,187,"value"],[1,266,1,203,"obj"],[1,267,1,208],[1,268,6,0],[1,274,6,6,"ROTATION_RECOGNITION_THRESHOLD"],[1,276,6,39,"Math"],[1,281,6,44,"PI"],[1,284,6,49],[1,287,7,15],[1,293,7,21,"RotationGestureHandler"],[1,303,7,52,"GestureHandler"],[1,313,8,2,"constructor"],[1,328,8,17,"args"],[1,331,9,4,"super"],[1,340,9,13,"args"],[1,343,11,4,"_defineProperty"],[1,345,11,20,"this"],[1,350,11,26],[1,361,11,38],[1,364,13,4,"_defineProperty"],[1,366,13,20,"this"],[1,371,13,26],[1,382,13,38],[1,385,15,4,"_defineProperty"],[1,387,15,20,"this"],[1,392,15,26],[1,408,15,43],[1,411,17,4,"_defineProperty"],[1,413,17,20,"this"],[1,418,17,26],[1,434,17,43],[1,437,19,4,"_defineProperty"],[1,439,19,20,"this"],[1,444,19,26],[1,470,19,53],[1,471,20,6,"onRotationBegin"],[1,487,20,23,"_detector"],[1,491,20,36],[1,493,21,6,"onRotation"],[1,504,21,18,"detector"],[1,508,22,8],[1,514,22,14,"previousRotation"],[1,516,22,33,"this"],[1,521,22,38,"rotation"],[1,530,23,8,"this"],[1,535,23,13,"rotation"],[1,545,23,25,"detector"],[1,547,23,34,"rotation"],[1,556,24,8],[1,562,24,14,"delta"],[1,564,24,22,"detector"],[1,566,24,31,"timeDelta"],[1,576,34,8],[1,583,26,12,"delta"],[1,585,26,20],[1,589,27,10,"this"],[1,594,27,15,"velocity"],[1,604,27,27,"this"],[1,609,27,32,"rotation"],[1,618,27,43,"previousRotation"],[1,621,27,63,"delta"],[1,624,30,12,"Math"],[1,629,30,17,"abs"],[1,633,30,21,"this"],[1,638,30,26,"rotation"],[1,649,30,39,"ROTATION_RECOGNITION_THRESHOLD"],[1,652,30,73,"this"],[1,657,30,78,"state"],[1,665,30,88,"State"],[1,673,30,94,"BEGAN"],[1,680,31,10,"this"],[1,685,31,15,"activate"],[1,697,34,15],[1,700,36,6,"onRotationEnd"],[1,714,36,21,"_detector"],[1,718,37,8,"this"],[1,723,37,13,"end"],[1,732,41,4,"_defineProperty"],[1,734,41,20,"this"],[1,739,41,26],[1,765,41,53],[1,769,41,57,"RotationGestureDetector"],[1,779,41,81,"this"],[1,784,41,86,"rotationGestureListener"],[1,809,42,2],[1,810,44,2,"init"],[1,815,44,7,"ref"],[1,817,44,12,"propsRef"],[1,820,45,4,"super"],[1,826,45,10,"init"],[1,831,45,15,"ref"],[1,833,45,20,"propsRef"],[1,836,46,4,"this"],[1,841,46,9,"shouldCancelWhenOutside"],[1,866,46,35],[1,867,47,2],[1,868,49,2,"transformNativeEvent"],[1,891,50,4],[1,897,50,11],[1,898,51,6,"rotation"],[1,907,51,16,"this"],[1,912,51,21,"rotation"],[1,921,51,32,"this"],[1,926,51,37,"rotation"],[1,935,51,48],[1,937,52,6,"anchorX"],[1,945,52,15,"this"],[1,950,52,20,"getAnchorX"],[1,963,53,6,"anchorY"],[1,971,53,15,"this"],[1,976,53,20,"getAnchorY"],[1,989,54,6,"velocity"],[1,998,54,16,"this"],[1,1003,54,21,"velocity"],[1,1012,54,32,"this"],[1,1017,54,37,"velocity"],[1,1026,54,48],[1,1028,56,2],[1,1029,58,2,"getAnchorX"],[1,1042,59,4],[1,1048,59,10,"anchorX"],[1,1050,59,20,"this"],[1,1055,59,25,"rotationGestureDetector"],[1,1079,59,49,"anchorX"],[1,1087,60,4],[1,1094,60,11,"anchorX"],[1,1097,60,31,"this"],[1,1102,60,36,"cachedAnchorX"],[1,1115,61,2],[1,1116,63,2,"getAnchorY"],[1,1129,64,4],[1,1135,64,10,"anchorY"],[1,1137,64,20,"this"],[1,1142,64,25,"rotationGestureDetector"],[1,1166,64,49,"anchorY"],[1,1174,65,4],[1,1181,65,11,"anchorY"],[1,1184,65,31,"this"],[1,1189,65,36,"cachedAnchorY"],[1,1202,66,2],[1,1203,68,2,"onPointerDown"],[1,1217,68,16,"event"],[1,1220,69,4,"this"],[1,1225,69,9,"tracker"],[1,1233,69,17,"addToTracker"],[1,1246,69,30,"event"],[1,1249,70,4,"super"],[1,1255,70,10,"onPointerDown"],[1,1269,70,24,"event"],[1,1272,71,4,"this"],[1,1277,71,9,"tryToSendTouchEvent"],[1,1297,71,29,"event"],[1,1299,72,2],[1,1300,74,2,"onPointerAdd"],[1,1313,74,15,"event"],[1,1316,75,4,"this"],[1,1321,75,9,"tracker"],[1,1329,75,17,"addToTracker"],[1,1342,75,30,"event"],[1,1345,76,4,"super"],[1,1351,76,10,"onPointerAdd"],[1,1364,76,23,"event"],[1,1367,77,4,"this"],[1,1372,77,9,"tryBegin"],[1,1383,78,4,"this"],[1,1388,78,9,"rotationGestureDetector"],[1,1412,78,33,"onTouchEvent"],[1,1425,78,46,"event"],[1,1427,78,53,"this"],[1,1432,78,58,"tracker"],[1,1440,79,2],[1,1441,81,2,"onPointerMove"],[1,1455,81,16,"event"],[1,1458,82,8,"this"],[1,1463,82,13,"tracker"],[1,1471,82,21,"trackedPointersCount"],[1,1492,82,44],[1,1496,86,8,"this"],[1,1501,86,13,"getAnchorX"],[1,1516,87,6,"this"],[1,1521,87,11,"cachedAnchorX"],[1,1535,87,27,"this"],[1,1540,87,32,"getAnchorX"],[1,1554,90,8,"this"],[1,1559,90,13,"getAnchorY"],[1,1574,91,6,"this"],[1,1579,91,11,"cachedAnchorY"],[1,1593,91,27,"this"],[1,1598,91,32,"getAnchorY"],[1,1612,94,4,"this"],[1,1617,94,9,"tracker"],[1,1625,94,17,"track"],[1,1631,94,23,"event"],[1,1634,95,4,"this"],[1,1639,95,9,"rotationGestureDetector"],[1,1663,95,33,"onTouchEvent"],[1,1676,95,46,"event"],[1,1678,95,53,"this"],[1,1683,95,58,"tracker"],[1,1692,96,4,"super"],[1,1698,96,10,"onPointerMove"],[1,1712,96,24,"event"],[1,1715,97,2],[1,1716,99,2,"onPointerOutOfBounds"],[1,1737,99,23,"event"],[1,1740,100,8,"this"],[1,1745,100,13,"tracker"],[1,1753,100,21,"trackedPointersCount"],[1,1774,100,44],[1,1778,104,8,"this"],[1,1783,104,13,"getAnchorX"],[1,1798,105,6,"this"],[1,1803,105,11,"cachedAnchorX"],[1,1817,105,27,"this"],[1,1822,105,32,"getAnchorX"],[1,1836,108,8,"this"],[1,1841,108,13,"getAnchorY"],[1,1856,109,6,"this"],[1,1861,109,11,"cachedAnchorY"],[1,1875,109,27,"this"],[1,1880,109,32,"getAnchorY"],[1,1894,112,4,"this"],[1,1899,112,9,"tracker"],[1,1907,112,17,"track"],[1,1913,112,23,"event"],[1,1916,113,4,"this"],[1,1921,113,9,"rotationGestureDetector"],[1,1945,113,33,"onTouchEvent"],[1,1958,113,46,"event"],[1,1960,113,53,"this"],[1,1965,113,58,"tracker"],[1,1974,114,4,"super"],[1,1980,114,10,"onPointerOutOfBounds"],[1,2001,114,31,"event"],[1,2004,115,2],[1,2005,117,2,"onPointerUp"],[1,2017,117,14,"event"],[1,2020,118,4,"super"],[1,2026,118,10,"onPointerUp"],[1,2038,118,22,"event"],[1,2041,119,4,"this"],[1,2046,119,9,"tracker"],[1,2054,119,17,"removeFromTracker"],[1,2072,119,35,"event"],[1,2074,119,41,"pointerId"],[1,2085,120,4,"this"],[1,2090,120,9,"rotationGestureDetector"],[1,2114,120,33,"onTouchEvent"],[1,2127,120,46,"event"],[1,2129,120,53,"this"],[1,2134,120,58,"tracker"],[1,2143,122,8,"this"],[1,2148,122,13,"state"],[1,2156,122,23,"State"],[1,2164,122,29,"ACTIVE"],[1,2173,126,8,"this"],[1,2178,126,13,"state"],[1,2186,126,23,"State"],[1,2194,126,29,"ACTIVE"],[1,2201,127,6,"this"],[1,2206,127,11,"end"],[1,2212,129,6,"this"],[1,2217,129,11,"fail"],[1,2224,131,2],[1,2225,133,2,"onPointerRemove"],[1,2241,133,18,"event"],[1,2244,134,4,"super"],[1,2250,134,10,"onPointerRemove"],[1,2266,134,26,"event"],[1,2269,135,4,"this"],[1,2274,135,9,"rotationGestureDetector"],[1,2298,135,33,"onTouchEvent"],[1,2311,135,46,"event"],[1,2313,135,53,"this"],[1,2318,135,58,"tracker"],[1,2327,136,4,"this"],[1,2332,136,9,"tracker"],[1,2340,136,17,"removeFromTracker"],[1,2358,136,35,"event"],[1,2360,136,41,"pointerId"],[1,2370,137,2],[1,2371,139,2,"tryBegin"],[1,2382,140,8,"this"],[1,2387,140,13,"state"],[1,2395,140,23,"State"],[1,2403,140,29,"UNDETERMINED"],[1,2417,144,4,"this"],[1,2422,144,9,"begin"],[1,2429,145,2],[1,2430,147,2,"onReset"],[1,2440,148,8,"this"],[1,2445,148,13,"state"],[1,2453,148,23,"State"],[1,2461,148,29,"ACTIVE"],[1,2470,152,4,"this"],[1,2475,152,9,"rotation"],[1,2484,152,20],[1,2486,153,4,"this"],[1,2491,153,9,"velocity"],[1,2500,153,20],[1,2502,154,4,"this"],[1,2507,154,9,"rotationGestureDetector"],[1,2531,154,33,"reset"],[1,2539,155,2],[1,2541,157,1,"e"],[1,2543,157,1,"default"],[1,2551,157,1,"RotationGestureHandler"],[1,2552,157,1],[1,2555]],"functionMap":{"names":["_defineProperty","<global>","RotationGestureHandler","constructor","_defineProperty$argument_2.onRotationBegin","_defineProperty$argument_2.onRotation","_defineProperty$argument_2.onRotationEnd","init","transformNativeEvent","getAnchorX","getAnchorY","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","onReset"],"mappings":"AAA,iNC;eCM;ECC;uBCY,iBD;kBEC;OFc;qBGC;OHE;GDI;EKE;GLG;EME;GNO;EOE;GPG;EQE;GRG;ESE;GTI;EUE;GVK;EWE;GXgB;EYE;GZgB;EaE;Gbc;EcE;GdI;EeE;GfM;EgBE;GhBQ;CDE"}},"type":"js/module"}]}