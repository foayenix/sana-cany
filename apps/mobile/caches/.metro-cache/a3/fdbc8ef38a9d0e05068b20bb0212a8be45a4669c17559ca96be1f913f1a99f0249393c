{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":89},"end":{"line":5,"column":45,"index":134}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.canGetUserMedia=u,e.getAnyUserMediaAsync=s,e.getUserMediaAsync=c,e.isBackCameraAvailableAsync=async function(t){return await v(['back','rear'],'environment',t)},e.isFrontCameraAvailableAsync=async function(t){return await v(['front','user','facetime'],'user',t)},e.mountedInstances=void 0,e.requestUserMediaAsync=async function(t,s=!0){if(u())return await o(s,t.audio,t.video);const[c,v]=await n(t);return await o(s,c,v)},e.userMediaRequested=void 0;var t=r(d[0]);e.userMediaRequested=!1,e.mountedInstances=[];async function n(t){const n=t=>({optional:[{sourceId:t}]}),o=t=>{const{deviceId:n}=t;return'string'==typeof n?n:Array.isArray(n)?n[0]??null:'object'==typeof n&&n.ideal?n.ideal:null},s=await new Promise(t=>MediaStreamTrack.getSources(n=>t(n)));let c=null,u=null;s.forEach(t=>{'audio'===t.kind?c=t.id:'video'===t.kind&&(u=t.id)});const v=o(t.audioConstraints);v&&(c=v);const l=o(t.videoConstraints);return l&&(u=l),[n(c),n(u)]}async function o(t,n,o){const c={video:void 0===o||o};return t||(c.audio=void 0===n||n),await s(c)}async function s(t,n=!1){try{return await c(Object.assign({},t,{video:n||t.video}))}catch(o){if(!n&&'object'==typeof o&&'ConstraintNotSatisfiedError'===o?.name)return await s(t,!0);throw o}}async function c(t){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(t);const n=navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia;return new Promise((o,s)=>n.call(navigator,t,o,s))}function u(){return t.Platform.isDOMAvailable&&!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)}async function v(t,n,o){if(!o){if(!navigator.mediaDevices.enumerateDevices)return null;o=await navigator.mediaDevices.enumerateDevices()}const s=o.filter(t=>'videoinput'===t.kind),[c]=s.filter(n=>t.some(t=>n.label.toLowerCase().includes(t))),[u]=s.filter(t=>{if(!('getCapabilities'in t))return null;const o=t.getCapabilities();return o.facingMode?o.facingMode.find(t=>n):null});return u?.deviceId||c?.deviceId||null}});","lineCount":1,"map":[[1,173,114,7,"async"],[1,188,114,49,"devices"],[1,191,115,4],[1,204,115,17,"supportsCameraType"],[1,206,115,36],[1,207,115,37],[1,214,115,45],[1,222,115,54],[1,236,115,69,"devices"],[1,238,116,0],[1,240],[1,270,111,7,"async"],[1,285,111,50,"devices"],[1,288,112,4],[1,301,112,17,"supportsCameraType"],[1,303,112,36],[1,304,112,37],[1,312,112,46],[1,319,112,54],[1,331,112,67],[1,338,112,75,"devices"],[1,340,113,0],[1,342],[1,392,62,7,"async"],[1,407,64,0,"props"],[1,409,64,7,"isMuted"],[1,412,64,17],[1,415,65,4],[1,418,65,8,"canGetUserMedia"],[1,422,66,8],[1,435,66,21,"sourceSelectedAsync"],[1,437,66,41,"isMuted"],[1,439,66,50,"props"],[1,441,66,56,"audio"],[1,447,66,63,"props"],[1,449,66,69,"video"],[1,456,70,4],[1,462,70,11,"audio"],[1,464,70,18,"video"],[1,473,70,33,"requestLegacyUserMediaAsync"],[1,475,70,61,"props"],[1,478,71,4],[1,491,71,17,"sourceSelectedAsync"],[1,493,71,37,"isMuted"],[1,495,71,46,"audio"],[1,497,71,53,"video"],[1,499,72,0],[1,501],[1,529,5,0],[1,533,5,0,"_expoModulesCore"],[1,535,5,0,"r"],[1,537,5,0,"d"],[1,539,5,0],[1,543,6,31,"e"],[1,545,6,31,"userMediaRequested"],[1,565,6,34],[1,567,7,29,"e"],[1,569,7,29,"mountedInstances"],[1,586,7,32],[1,589,8,0,"async"],[1,604,8,15,"requestLegacyUserMediaAsync"],[1,606,10,0,"props"],[1,609,12,4],[1,615,12,10,"optionalSource"],[1,617,12,28,"id"],[1,621,12,30],[1,622,12,38,"optional"],[1,631,12,48],[1,632,12,49],[1,633,12,51,"sourceId"],[1,642,12,61,"id"],[1,648,13,10,"constraintToSourceId"],[1,650,13,34,"constraint"],[1,654,14,8],[1,660,14,14,"deviceId"],[1,669,14,16,"deviceId"],[1,672,14,29,"constraint"],[1,674,15,8],[1,680,15,32],[1,697,15,19,"deviceId"],[1,699,16,19,"deviceId"],[1,701,18,12,"Array"],[1,707,18,18,"isArray"],[1,715,18,26,"deviceId"],[1,718,19,19,"deviceId"],[1,720,19,28],[1,724,19,34],[1,729,21,37],[1,746,21,24,"deviceId"],[1,749,21,49,"deviceId"],[1,751,21,58,"ideal"],[1,757,22,19,"deviceId"],[1,759,22,28,"ideal"],[1,765,24,15],[1,771,26,10,"sources"],[1,779,26,26],[1,783,26,30,"Promise"],[1,791,26,39,"resolve"],[1,794,28,4,"MediaStreamTrack"],[1,811,28,21,"getSources"],[1,822,28,33,"sources"],[1,825,28,45,"resolve"],[1,827,28,53,"sources"],[1,832,29,4],[1,836,29,8,"audioSource"],[1,838,29,22],[1,843,30,8,"videoSource"],[1,845,30,22],[1,850,31,4,"sources"],[1,852,31,12,"forEach"],[1,860,31,21,"source"],[1,864,32,28],[1,874,32,12,"source"],[1,876,32,19,"kind"],[1,881,33,12,"audioSource"],[1,883,33,26,"source"],[1,885,33,33,"id"],[1,888,35,33],[1,898,35,17,"source"],[1,900,35,24,"kind"],[1,907,36,12,"videoSource"],[1,909,36,26,"source"],[1,911,36,33,"id"],[1,917,41,4],[1,923,41,10,"audioSourceId"],[1,925,41,26,"constraintToSourceId"],[1,927,41,47,"props"],[1,929,41,53,"audioConstraints"],[1,947,42,8,"audioSourceId"],[1,951,43,8,"audioSource"],[1,953,43,22,"audioSourceId"],[1,956,47,4],[1,962,47,10,"videoSourceId"],[1,964,47,26,"constraintToSourceId"],[1,966,47,47,"props"],[1,968,47,53,"videoConstraints"],[1,986,51,4],[1,993,48,8,"videoSourceId"],[1,997,49,8,"videoSource"],[1,999,49,22,"videoSourceId"],[1,1002,51,11],[1,1003,51,12,"optionalSource"],[1,1005,51,27,"audioSource"],[1,1008,51,41,"optionalSource"],[1,1010,51,56,"videoSource"],[1,1013,52,0],[1,1014,53,0,"async"],[1,1029,53,15,"sourceSelectedAsync"],[1,1031,53,35,"isMuted"],[1,1033,53,44,"audioConstraints"],[1,1035,53,62,"videoConstraints"],[1,1038,54,4],[1,1044,54,10,"constraints"],[1,1046,54,24],[1,1047,55,8,"video"],[1,1058,55,43],[1,1062,55,22,"videoConstraints"],[1,1065,55,57,"videoConstraints"],[1,1068,60,4],[1,1075,57,9,"isMuted"],[1,1079,58,8,"constraints"],[1,1081,58,20,"audio"],[1,1092,58,56],[1,1096,58,35,"audioConstraints"],[1,1099,58,70,"audioConstraints"],[1,1108,60,17,"getAnyUserMediaAsync"],[1,1110,60,38,"constraints"],[1,1112,61,0],[1,1113,73,7,"async"],[1,1128,73,22,"getAnyUserMediaAsync"],[1,1130,73,43,"constraints"],[1,1132,73,56,"ignoreConstraints"],[1,1135,73,76],[1,1138,74,4],[1,1142,75,8],[1,1155,75,21,"getUserMediaAsync"],[1,1157,75,38,"Object"],[1,1164,75,38,"assign"],[1,1171,75,38],[1,1174,76,15,"constraints"],[1,1176,76,26],[1,1177,77,12,"video"],[1,1183,77,19,"ignoreConstraints"],[1,1186,77,40,"constraints"],[1,1188,77,52,"video"],[1,1196,79,4],[1,1197,80,4],[1,1203,80,11,"error"],[1,1206,81,8],[1,1210,81,13,"ignoreConstraints"],[1,1213,82,29],[1,1230,82,19,"error"],[1,1233,83,28],[1,1265,83,12,"error"],[1,1268,83,19,"name"],[1,1273,84,12],[1,1286,84,25,"getAnyUserMediaAsync"],[1,1288,84,46,"constraints"],[1,1291,84,59],[1,1294,86,8],[1,1300,86,14,"error"],[1,1301,87,4],[1,1302,88,0],[1,1303,89,7,"async"],[1,1318,89,22,"getUserMediaAsync"],[1,1320,89,40,"constraints"],[1,1323,90,4],[1,1326,90,8,"navigator"],[1,1336,90,18,"mediaDevices"],[1,1350,90,34,"navigator"],[1,1360,90,44,"mediaDevices"],[1,1373,90,57,"getUserMedia"],[1,1386,91,8],[1,1393,91,15,"navigator"],[1,1403,91,25,"mediaDevices"],[1,1416,91,38,"getUserMedia"],[1,1429,91,51,"constraints"],[1,1432,93,4],[1,1438,93,10,"_getUserMedia"],[1,1440,93,26,"navigator"],[1,1450,93,53],[1,1467,94,8,"navigator"],[1,1477,94,38],[1,1497,96,8,"navigator"],[1,1507,96,34],[1,1522,97,4],[1,1529,97,11],[1,1533,97,15,"Promise"],[1,1541,97,23],[1,1542,97,24,"resolve"],[1,1544,97,33,"reject"],[1,1548,97,44,"_getUserMedia"],[1,1550,97,58,"call"],[1,1555,97,63,"navigator"],[1,1565,97,74,"constraints"],[1,1567,97,87,"resolve"],[1,1569,97,96,"reject"],[1,1572,98,0],[1,1573,99,7],[1,1582,99,16,"canGetUserMedia"],[1,1586,101,4],[1,1593,103,4,"Platform"],[1,1604,103,13,"isDOMAvailable"],[1,1623,105,12,"navigator"],[1,1633,105,22,"mediaDevices"],[1,1647,105,38,"navigator"],[1,1657,105,48,"mediaDevices"],[1,1670,105,61,"getUserMedia"],[1,1684,106,12,"navigator"],[1,1694,106,39],[1,1711,107,12,"navigator"],[1,1721,107,42],[1,1741,109,12,"navigator"],[1,1751,109,38],[1,1766,110,0],[1,1767,117,0,"async"],[1,1782,117,15,"supportsCameraType"],[1,1784,117,34,"labels"],[1,1786,117,42,"type"],[1,1788,117,48,"devices"],[1,1791,118,4],[1,1795,118,9,"devices"],[1,1797,118,18],[1,1798,119,8],[1,1802,119,13,"navigator"],[1,1812,119,23,"mediaDevices"],[1,1825,119,36,"enumerateDevices"],[1,1842,120,12],[1,1849,120,19],[1,1854,122,8,"devices"],[1,1862,122,24,"navigator"],[1,1872,122,34,"mediaDevices"],[1,1885,122,47,"enumerateDevices"],[1,1903,123,4],[1,1904,124,4],[1,1910,124,10,"cameras"],[1,1912,124,20,"devices"],[1,1914,124,28,"filter"],[1,1921,124,36,"t"],[1,1924,124,53],[1,1939,124,42,"t"],[1,1941,124,44,"kind"],[1,1948,125,11,"hasCamera"],[1,1951,125,24,"cameras"],[1,1953,125,32,"filter"],[1,1960,125,40,"camera"],[1,1963,125,51,"labels"],[1,1965,125,58,"some"],[1,1970,125,64,"label"],[1,1973,125,74,"camera"],[1,1975,125,81,"label"],[1,1981,125,87,"toLowerCase"],[1,1995,125,101,"includes"],[1,2004,125,110,"label"],[1,2010,126,11,"isCapable"],[1,2013,126,24,"cameras"],[1,2015,126,32,"filter"],[1,2022,126,40,"camera"],[1,2026,127,8],[1,2031,127,14],[1,2051,127,35,"camera"],[1,2054,128,12],[1,2061,128,19],[1,2066,130,8],[1,2072,130,14,"capabilities"],[1,2074,130,29,"camera"],[1,2076,130,36,"getCapabilities"],[1,2094,131,8],[1,2101,131,13,"capabilities"],[1,2103,131,26,"facingMode"],[1,2114,134,15,"capabilities"],[1,2116,134,28,"facingMode"],[1,2127,134,39,"find"],[1,2132,134,45,"_"],[1,2135,134,51,"type"],[1,2138,132,19],[1,2145,136,4],[1,2152,136,11,"isCapable"],[1,2155,136,22,"deviceId"],[1,2165,136,34,"hasCamera"],[1,2168,136,45,"deviceId"],[1,2178,136,57],[1,2182,137,0],[1,2183,137,1],[1,2186]],"functionMap":{"names":["<global>","requestLegacyUserMediaAsync","optionalSource","constraintToSourceId","Promise$argument_0","MediaStreamTrack.getSources$argument_0","sources.forEach$argument_0","sourceSelectedAsync","requestUserMediaAsync","getAnyUserMediaAsync","getUserMediaAsync","canGetUserMedia","isFrontCameraAvailableAsync","isBackCameraAvailableAsync","supportsCameraType","devices.filter$argument_0","cameras.filter$argument_0","labels.some$argument_0","capabilities.facingMode.find$argument_0"],"mappings":"AAA;ACO;2BCI,0CD;iCEC;KFY;sCGC;gCCE,6BD,CH;oBKG;KLO;CDc;AOC;CPQ;OQC;CRU;OSC;CTe;OUC;uBNQ,gFM;CVC;OWC;CXW;OYC;CZE;OaC;CbE;AcC;mCCO,8BD;uCEC,wBC,qDD,CF;uCEC;4CEQ,WF;KFC;CdE"}},"type":"js/module"}]}