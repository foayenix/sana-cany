{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"]}},{"name":"../constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":50,"index":298}}],"key":"eTOOXVNPpMK2U8dOAmBWjbEJ4yE=","exportNames":["*"]}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":299},"end":{"line":5,"column":46,"index":345}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"]}},{"name":"../detectors/ScaleGestureDetector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":346},"end":{"line":6,"column":69,"index":415}}],"key":"tFOd3eEKqx8JoU1k9XAnYKO/ik8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=r(d[1]),o=r(d[2]),n=t(r(d[3])),c=t(r(d[4]));function h(t,s,o){return s in t?Object.defineProperty(t,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[s]=o,t}class u extends n.default{constructor(...t){super(...t),h(this,\"scale\",1),h(this,\"velocity\",0),h(this,\"startingSpan\",0),h(this,\"spanSlop\",o.DEFAULT_TOUCH_SLOP),h(this,\"scaleDetectorListener\",{onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:t=>{const o=this.scale;this.scale*=t.calculateScaleFactor(this.tracker.trackedPointersCount);const n=t.timeDelta;return n>0&&(this.velocity=(this.scale-o)/n),Math.abs(this.startingSpan-t.currentSpan)>=this.spanSlop&&this.state===s.State.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}}),h(this,\"scaleGestureDetector\",new c.default(this.scaleDetectorListener))}init(t,s){super.init(t,s),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===s.State.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.state===s.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.state===s.State.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===s.State.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.state!==s.State.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.state!==s.State.ACTIVE&&(this.velocity=0,this.scale=1)}}e.default=u});","lineCount":1,"map":[[1,108,3,0],[1,112,3,0,"_State"],[1,114,3,0,"r"],[1,116,3,0,"d"],[1,118,3,0],[1,122,4,0,"_constants"],[1,124,4,0,"r"],[1,126,4,0,"d"],[1,128,4,0],[1,132,5,0,"_GestureHandler"],[1,134,5,0,"_interopRequireDefault"],[1,136,5,0,"r"],[1,138,5,0,"d"],[1,140,5,0],[1,145,6,0,"_ScaleGestureDetector"],[1,147,6,0,"_interopRequireDefault"],[1,149,6,0,"r"],[1,151,6,0,"d"],[1,153,6,0],[1,158,1,0],[1,167,1,9,"_defineProperty"],[1,169,1,25,"obj"],[1,171,1,30,"key"],[1,173,1,35,"value"],[1,176,1,196],[1,183,1,48,"key"],[1,188,1,55,"obj"],[1,190,1,62,"Object"],[1,197,1,69,"defineProperty"],[1,212,1,84,"obj"],[1,214,1,89,"key"],[1,216,1,94],[1,217,1,96,"value"],[1,223,1,103,"value"],[1,225,1,110,"enumerable"],[1,237,1,122],[1,239,1,128,"configurable"],[1,253,1,142],[1,255,1,148,"writable"],[1,265,1,158],[1,269,1,176,"obj"],[1,271,1,180,"key"],[1,274,1,187,"value"],[1,276,1,203,"obj"],[1,277,1,208],[1,278,7,15],[1,284,7,21,"PinchGestureHandler"],[1,294,7,49,"GestureHandler"],[1,304,8,2,"constructor"],[1,319,8,17,"args"],[1,322,9,4,"super"],[1,331,9,13,"args"],[1,334,11,4,"_defineProperty"],[1,336,11,20,"this"],[1,341,11,26],[1,349,11,35],[1,352,13,4,"_defineProperty"],[1,354,13,20,"this"],[1,359,13,26],[1,370,13,38],[1,373,15,4,"_defineProperty"],[1,375,15,20,"this"],[1,380,15,26],[1,395,15,42],[1,398,17,4,"_defineProperty"],[1,400,17,20,"this"],[1,405,17,26],[1,416,17,38,"DEFAULT_TOUCH_SLOP"],[1,438,19,4,"_defineProperty"],[1,440,19,20,"this"],[1,445,19,26],[1,469,19,51],[1,470,20,6,"onScaleBegin"],[1,483,20,20,"detector"],[1,487,21,8,"this"],[1,492,21,13,"startingSpan"],[1,505,21,28,"detector"],[1,507,21,37,"currentSpan"],[1,520,22,15],[1,523,24,6,"onScale"],[1,531,24,15,"detector"],[1,535,25,8],[1,541,25,14,"prevScaleFactor"],[1,543,25,32,"this"],[1,548,25,37,"scale"],[1,554,26,8,"this"],[1,559,26,13,"scale"],[1,566,26,22,"detector"],[1,568,26,31,"calculateScaleFactor"],[1,589,26,52,"this"],[1,594,26,57,"tracker"],[1,602,26,65,"trackedPointersCount"],[1,624,27,8],[1,630,27,14,"delta"],[1,632,27,22,"detector"],[1,634,27,31,"timeDelta"],[1,644,37,8],[1,651,29,12,"delta"],[1,653,29,20],[1,657,30,10,"this"],[1,662,30,15,"velocity"],[1,672,30,27,"this"],[1,677,30,32,"scale"],[1,683,30,40,"prevScaleFactor"],[1,686,30,59,"delta"],[1,689,33,12,"Math"],[1,694,33,17,"abs"],[1,698,33,21,"this"],[1,703,33,26,"startingSpan"],[1,716,33,41,"detector"],[1,718,33,50,"currentSpan"],[1,732,33,66,"this"],[1,737,33,71,"spanSlop"],[1,747,33,83,"this"],[1,752,33,88,"state"],[1,760,33,98,"State"],[1,768,33,104,"BEGAN"],[1,775,34,10,"this"],[1,780,34,15,"activate"],[1,792,37,15],[1,795,39,6,"onScaleEnd"],[1,806,39,18,"_detector"],[1,814,42,4,"_defineProperty"],[1,816,42,20,"this"],[1,821,42,26],[1,844,42,50],[1,848,42,54,"ScaleGestureDetector"],[1,858,42,75,"this"],[1,863,42,80,"scaleDetectorListener"],[1,886,43,2],[1,887,45,2,"init"],[1,892,45,7,"ref"],[1,894,45,12,"propsRef"],[1,897,46,4,"super"],[1,903,46,10,"init"],[1,908,46,15,"ref"],[1,910,46,20,"propsRef"],[1,913,47,4,"this"],[1,918,47,9,"shouldCancelWhenOutside"],[1,943,47,35],[1,944,48,2],[1,945,50,2,"transformNativeEvent"],[1,968,51,4],[1,974,51,11],[1,975,52,6,"focalX"],[1,982,52,14,"this"],[1,987,52,19,"scaleGestureDetector"],[1,1008,52,40,"focusX"],[1,1015,53,6,"focalY"],[1,1022,53,14,"this"],[1,1027,53,19,"scaleGestureDetector"],[1,1048,53,40,"focusY"],[1,1055,54,6,"velocity"],[1,1064,54,16,"this"],[1,1069,54,21,"velocity"],[1,1078,55,6,"scale"],[1,1084,55,13,"this"],[1,1089,55,18,"scale"],[1,1095,57,2],[1,1096,59,2,"onPointerDown"],[1,1110,59,16,"event"],[1,1113,60,4,"this"],[1,1118,60,9,"tracker"],[1,1126,60,17,"addToTracker"],[1,1139,60,30,"event"],[1,1142,61,4,"super"],[1,1148,61,10,"onPointerDown"],[1,1162,61,24,"event"],[1,1165,62,4,"this"],[1,1170,62,9,"tryToSendTouchEvent"],[1,1190,62,29,"event"],[1,1192,63,2],[1,1193,65,2,"onPointerAdd"],[1,1206,65,15,"event"],[1,1209,66,4,"this"],[1,1214,66,9,"tracker"],[1,1222,66,17,"addToTracker"],[1,1235,66,30,"event"],[1,1238,67,4,"super"],[1,1244,67,10,"onPointerAdd"],[1,1257,67,23,"event"],[1,1260,68,4,"this"],[1,1265,68,9,"tryBegin"],[1,1276,69,4,"this"],[1,1281,69,9,"scaleGestureDetector"],[1,1302,69,30,"onTouchEvent"],[1,1315,69,43,"event"],[1,1317,69,50,"this"],[1,1322,69,55,"tracker"],[1,1330,70,2],[1,1331,72,2,"onPointerUp"],[1,1343,72,14,"event"],[1,1346,73,4,"super"],[1,1352,73,10,"onPointerUp"],[1,1364,73,22,"event"],[1,1367,74,4,"this"],[1,1372,74,9,"tracker"],[1,1380,74,17,"removeFromTracker"],[1,1398,74,35,"event"],[1,1400,74,41,"pointerId"],[1,1411,76,8,"this"],[1,1416,76,13,"state"],[1,1424,76,23,"State"],[1,1432,76,29,"ACTIVE"],[1,1441,80,4,"this"],[1,1446,80,9,"scaleGestureDetector"],[1,1467,80,30,"onTouchEvent"],[1,1480,80,43,"event"],[1,1482,80,50,"this"],[1,1487,80,55,"tracker"],[1,1496,82,8,"this"],[1,1501,82,13,"state"],[1,1509,82,23,"State"],[1,1517,82,29,"ACTIVE"],[1,1524,83,6,"this"],[1,1529,83,11,"end"],[1,1535,85,6,"this"],[1,1540,85,11,"fail"],[1,1547,87,2],[1,1548,89,2,"onPointerRemove"],[1,1564,89,18,"event"],[1,1567,90,4,"super"],[1,1573,90,10,"onPointerRemove"],[1,1589,90,26,"event"],[1,1592,91,4,"this"],[1,1597,91,9,"scaleGestureDetector"],[1,1618,91,30,"onTouchEvent"],[1,1631,91,43,"event"],[1,1633,91,50,"this"],[1,1638,91,55,"tracker"],[1,1647,92,4,"this"],[1,1652,92,9,"tracker"],[1,1660,92,17,"removeFromTracker"],[1,1678,92,35,"event"],[1,1680,92,41,"pointerId"],[1,1691,94,8,"this"],[1,1696,94,13,"state"],[1,1704,94,23,"State"],[1,1712,94,29,"ACTIVE"],[1,1720,94,39,"this"],[1,1725,94,44,"tracker"],[1,1733,94,52,"trackedPointersCount"],[1,1754,94,75],[1,1757,95,6,"this"],[1,1762,95,11,"end"],[1,1767,97,2],[1,1768,99,2,"onPointerMove"],[1,1782,99,16,"event"],[1,1785,100,8,"this"],[1,1790,100,13,"tracker"],[1,1798,100,21,"trackedPointersCount"],[1,1819,100,44],[1,1823,104,4,"this"],[1,1828,104,9,"tracker"],[1,1836,104,17,"track"],[1,1842,104,23,"event"],[1,1845,105,4,"this"],[1,1850,105,9,"scaleGestureDetector"],[1,1871,105,30,"onTouchEvent"],[1,1884,105,43,"event"],[1,1886,105,50,"this"],[1,1891,105,55,"tracker"],[1,1900,106,4,"super"],[1,1906,106,10,"onPointerMove"],[1,1920,106,24,"event"],[1,1923,107,2],[1,1924,109,2,"onPointerOutOfBounds"],[1,1945,109,23,"event"],[1,1948,110,8,"this"],[1,1953,110,13,"tracker"],[1,1961,110,21,"trackedPointersCount"],[1,1982,110,44],[1,1986,114,4,"this"],[1,1991,114,9,"tracker"],[1,1999,114,17,"track"],[1,2005,114,23,"event"],[1,2008,115,4,"this"],[1,2013,115,9,"scaleGestureDetector"],[1,2034,115,30,"onTouchEvent"],[1,2047,115,43,"event"],[1,2049,115,50,"this"],[1,2054,115,55,"tracker"],[1,2063,116,4,"super"],[1,2069,116,10,"onPointerOutOfBounds"],[1,2090,116,31,"event"],[1,2093,117,2],[1,2094,119,2,"tryBegin"],[1,2105,120,8,"this"],[1,2110,120,13,"state"],[1,2118,120,23,"State"],[1,2126,120,29,"UNDETERMINED"],[1,2141,124,4,"this"],[1,2146,124,9,"resetProgress"],[1,2162,125,4,"this"],[1,2167,125,9,"begin"],[1,2175,126,2],[1,2176,128,2,"activate"],[1,2185,128,11,"force"],[1,2188,129,8,"this"],[1,2193,129,13,"state"],[1,2201,129,23,"State"],[1,2209,129,29,"ACTIVE"],[1,2217,130,6,"this"],[1,2222,130,11,"resetProgress"],[1,2238,133,4,"super"],[1,2244,133,10,"activate"],[1,2253,133,19,"force"],[1,2255,134,2],[1,2256,136,2,"onReset"],[1,2266,137,4,"this"],[1,2271,137,9,"resetProgress"],[1,2286,138,2],[1,2287,140,2,"resetProgress"],[1,2303,141,8,"this"],[1,2308,141,13,"state"],[1,2316,141,23,"State"],[1,2324,141,29,"ACTIVE"],[1,2333,145,4,"this"],[1,2338,145,9,"velocity"],[1,2347,145,20],[1,2349,146,4,"this"],[1,2354,146,9,"scale"],[1,2360,146,17],[1,2362,147,2],[1,2364,149,1,"e"],[1,2366,149,1,"default"],[1,2374,149,1,"PinchGestureHandler"],[1,2375,149,1],[1,2378]],"functionMap":{"names":["_defineProperty","<global>","PinchGestureHandler","constructor","_defineProperty$argument_2.onScaleBegin","_defineProperty$argument_2.onScale","_defineProperty$argument_2.onScaleEnd","init","transformNativeEvent","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOutOfBounds","tryBegin","activate","onReset","resetProgress"],"mappings":"AAA,iNC;eCM;ECC;oBCY;ODG;eEC;OFc;kBGC,eH;GDI;EKE;GLG;EME;GNO;EOE;GPI;EQE;GRK;ESE;GTe;EUE;GVQ;EWE;GXQ;EYE;GZQ;EaE;GbO;EcE;GdM;EeE;GfE;EgBE;GhBO;CDE"}},"type":"js/module"}]}