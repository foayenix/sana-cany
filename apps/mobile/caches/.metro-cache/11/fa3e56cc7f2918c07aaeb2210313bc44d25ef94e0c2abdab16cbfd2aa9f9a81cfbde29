{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":31,"index":56}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"./WebCameraUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":57},"end":{"line":3,"column":42,"index":99}}],"key":"7QFlRc+R5Zhr/RLcJUPMtLUHEsc=","exportNames":["*"]}},{"name":"./WebConstants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":100},"end":{"line":4,"column":56,"index":156}}],"key":"VYBjMDeNhUYVRZIl4m+mFrGQcXE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.useWebCameraStream=function(n,c,s,{onCameraReady:i,onMountError:f}){const l=e.useRef(!1),p=e.useRef([]),h=e.useRef({autoFocus:'continuous',flashMode:'off',whiteBalance:'continuous',zoom:1}),[y,M]=e.useState(null),b=e.useMemo(()=>y?y.getTracks()[0].getSettings():null,[y]),k=e.useMemo(()=>{if(!b)return null;const{facingMode:e=\"user\"}=b;return r.FacingModeToCameraType[e]},[b]),_=e.useCallback(async()=>{try{return await t.getPreferredStreamDevice(c)}catch(e){return f&&f({nativeEvent:e}),null}},[c,f]),w=e.useCallback(async()=>{const e=await _();return t.compareStreams(e,y)||(p.current.some(t=>t.id===e?.id)||p.current.push(e),M(e),i&&i()),!1},[_,M,i,y,p.current]);return e.useEffect(()=>{l.current||(l.current=!0,w().then(e=>{l.current=e}).catch(()=>{l.current=!1}))},[c]),e.useEffect(()=>{const e={};for(const t of o)if(t in s){const r=s[t];r!==h.current[t]&&(e[t]=r)}const r=!!Object.keys(e).length,n=Object.assign({},h.current,e);r&&t.syncTrackCapabilities(c,y,e),h.current=n},[s.autoFocus,s.flashMode,s.exposureCompensation,s.colorTemperature,s.iso,s.brightness,s.contrast,s.saturation,s.sharpness,s.focusDistance,s.whiteBalance,s.zoom]),e.useEffect(()=>{n.current&&t.setVideoSource(n.current,y)},[n.current,y]),e.useEffect(()=>()=>{for(const e of p.current)t.stopMediaStream(e);n.current&&t.setVideoSource(n.current,y)},[]),u(n.current,()=>{t.syncTrackCapabilities(c,y,h.current)}),{type:k,mediaTrackSettings:b}};var e=n(_r(d[0])),t=n(_r(d[1])),r=_r(d[2]);function n(e,t){if(\"function\"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(n=function(e,t){if(!t&&e&&e.__esModule)return e;var n,u,c={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return c;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,c)}for(const t in e)\"default\"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?n(c,t,u):c[t]=e[t]);return c})(e,t)}const o=['autoFocus','flashMode','exposureCompensation','colorTemperature','iso','brightness','contrast','saturation','sharpness','focusDistance','whiteBalance','zoom'];function u(t,r){e.useEffect(()=>{t&&t.addEventListener('loadedmetadata',()=>{requestAnimationFrame(()=>{r()})})},[t])}});","lineCount":1,"map":[[1,103,33,7],[1,112,33,35,"video"],[1,114,33,42,"preferredType"],[1,116,33,57,"settings"],[1,119,33,67,"onCameraReady"],[1,133,33,69,"onCameraReady"],[1,135,33,82,"onMountError"],[1,148,33,84,"onMountError"],[1,152,34,4],[1,158,34,10,"isStartingCamera"],[1,160,34,29,"React"],[1,162,34,35,"useRef"],[1,170,34,42],[1,173,35,10,"activeStreams"],[1,175,35,26,"React"],[1,177,35,32,"useRef"],[1,184,35,39],[1,188,36,10,"capabilities"],[1,190,36,25,"React"],[1,192,36,31,"useRef"],[1,199,36,38],[1,200,37,8,"autoFocus"],[1,210,37,19],[1,223,38,8,"flashMode"],[1,233,38,19],[1,239,39,8,"whiteBalance"],[1,252,39,22],[1,265,40,8,"zoom"],[1,270,40,14],[1,275,42,11,"stream"],[1,277,42,19,"setStream"],[1,280,42,32,"React"],[1,282,42,38,"useState"],[1,291,42,47],[1,297,43,10,"mediaTrackSettings"],[1,299,43,31,"React"],[1,301,43,37,"useMemo"],[1,309,43,45],[1,313,44,15,"stream"],[1,315,44,24,"stream"],[1,317,44,31,"getTracks"],[1,329,44,43],[1,332,44,46,"getSettings"],[1,346,44,62],[1,351,45,7],[1,352,45,8,"stream"],[1,356,47,10,"type"],[1,358,47,17,"React"],[1,360,47,23,"useMemo"],[1,368,47,31],[1,373,48,8],[1,377,48,13,"mediaTrackSettings"],[1,379,49,12],[1,386,49,19],[1,391,52,8],[1,397,52,14,"facingMode"],[1,408,52,16,"facingMode"],[1,410,52,29],[1,418,52,40,"mediaTrackSettings"],[1,420,53,8],[1,427,53,15,"FacingModeToCameraType"],[1,452,53,38,"facingMode"],[1,456,54,7],[1,457,54,8,"mediaTrackSettings"],[1,461,55,10,"getStreamDeviceAsync"],[1,463,55,33,"React"],[1,465,55,39,"useCallback"],[1,477,55,51,"async"],[1,487,56,8],[1,491,57,12],[1,504,57,25,"Utils"],[1,506,57,31,"getPreferredStreamDevice"],[1,531,57,56,"preferredType"],[1,533,58,8],[1,534,59,8],[1,540,59,15,"nativeEvent"],[1,543,66,12],[1,550,63,16,"onMountError"],[1,553,64,16,"onMountError"],[1,555,64,29],[1,556,64,31,"nativeEvent"],[1,572,66,19],[1,576,67,8],[1,579,68,7],[1,580,68,8,"preferredType"],[1,582,68,23,"onMountError"],[1,586,69,10,"resumeAsync"],[1,588,69,24,"React"],[1,590,69,30,"useCallback"],[1,602,69,42,"async"],[1,612,70,8],[1,618,70,14,"nextStream"],[1,626,70,33,"getStreamDeviceAsync"],[1,630,71,8],[1,637,71,12,"Utils"],[1,639,71,18,"compareStreams"],[1,654,71,33,"nextStream"],[1,656,71,45,"stream"],[1,661,79,13,"activeStreams"],[1,663,79,27,"current"],[1,671,79,35,"some"],[1,676,79,41,"value"],[1,679,79,51,"value"],[1,681,79,57,"id"],[1,686,79,64,"nextStream"],[1,689,79,76,"id"],[1,694,80,12,"activeStreams"],[1,696,80,26,"current"],[1,704,80,34,"push"],[1,709,80,39,"nextStream"],[1,712,83,8,"setStream"],[1,714,83,18,"nextStream"],[1,717,84,12,"onCameraReady"],[1,720,85,12,"onCameraReady"],[1,726,75,19],[1,729,88,7],[1,730,88,8,"getStreamDeviceAsync"],[1,732,88,30,"setStream"],[1,734,88,41,"onCameraReady"],[1,736,88,56,"stream"],[1,738,88,64,"activeStreams"],[1,740,88,78,"current"],[1,750,160,4],[1,757,89,4,"React"],[1,759,89,10,"useEffect"],[1,769,89,20],[1,774,91,12,"isStartingCamera"],[1,776,91,29,"current"],[1,786,94,8,"isStartingCamera"],[1,788,94,25,"current"],[1,797,94,35],[1,799,95,8,"resumeAsync"],[1,803,96,13,"then"],[1,808,96,19,"isStarting"],[1,812,97,12,"isStartingCamera"],[1,814,97,29,"current"],[1,822,97,39,"isStarting"],[1,826,99,13,"catch"],[1,832,99,19],[1,837,101,12,"isStartingCamera"],[1,839,101,29,"current"],[1,848,101,39],[1,854,103,7],[1,855,103,8,"preferredType"],[1,859,105,4,"React"],[1,861,105,10,"useEffect"],[1,871,105,20],[1,876,106,8],[1,882,106,14,"changes"],[1,884,106,24],[1,885,106,25],[1,887,107,8],[1,891,107,13],[1,897,107,19,"key"],[1,902,107,26,"VALID_SETTINGS_KEYS"],[1,904,108,12],[1,907,108,16,"key"],[1,912,108,23,"settings"],[1,914,108,33],[1,915,109,16],[1,921,109,22,"nextValue"],[1,923,109,34,"settings"],[1,925,109,43,"key"],[1,928,110,20,"nextValue"],[1,932,110,34,"capabilities"],[1,934,110,47,"current"],[1,942,110,55,"key"],[1,947,111,20,"changes"],[1,949,111,28,"key"],[1,952,111,35,"nextValue"],[1,954,113,12],[1,955,116,8],[1,961,116,14,"hasChanges"],[1,965,116,29,"Object"],[1,972,116,36,"keys"],[1,977,116,41,"changes"],[1,980,116,50,"length"],[1,987,117,14,"nextWebCameraSettings"],[1,989,117,35,"Object"],[1,996,117,35,"assign"],[1,1003,117,35],[1,1006,117,43,"capabilities"],[1,1008,117,56,"current"],[1,1016,117,68,"changes"],[1,1019,118,12,"hasChanges"],[1,1022,119,12,"Utils"],[1,1024,119,18,"syncTrackCapabilities"],[1,1046,119,40,"preferredType"],[1,1048,119,55,"stream"],[1,1050,119,63,"changes"],[1,1053,121,8,"capabilities"],[1,1055,121,21,"current"],[1,1063,121,31,"nextWebCameraSettings"],[1,1066,122,7],[1,1067,123,8,"settings"],[1,1069,123,17,"autoFocus"],[1,1079,124,8,"settings"],[1,1081,124,17,"flashMode"],[1,1091,125,8,"settings"],[1,1093,125,17,"exposureCompensation"],[1,1114,126,8,"settings"],[1,1116,126,17,"colorTemperature"],[1,1133,127,8,"settings"],[1,1135,127,17,"iso"],[1,1139,128,8,"settings"],[1,1141,128,17,"brightness"],[1,1152,129,8,"settings"],[1,1154,129,17,"contrast"],[1,1163,130,8,"settings"],[1,1165,130,17,"saturation"],[1,1176,131,8,"settings"],[1,1178,131,17,"sharpness"],[1,1188,132,8,"settings"],[1,1190,132,17,"focusDistance"],[1,1204,133,8,"settings"],[1,1206,133,17,"whiteBalance"],[1,1219,134,8,"settings"],[1,1221,134,17,"zoom"],[1,1228,136,4,"React"],[1,1230,136,10,"useEffect"],[1,1240,136,20],[1,1245,138,13,"video"],[1,1247,138,19,"current"],[1,1256,141,8,"Utils"],[1,1258,141,14,"setVideoSource"],[1,1273,141,29,"video"],[1,1275,141,35,"current"],[1,1283,141,44,"stream"],[1,1287,142,7],[1,1288,142,8,"video"],[1,1290,142,14,"current"],[1,1298,142,23,"stream"],[1,1302,143,4,"React"],[1,1304,143,10,"useEffect"],[1,1314,143,20],[1,1318,144,15],[1,1323,146,12],[1,1327,146,17],[1,1333,146,23,"stream"],[1,1338,146,33,"activeStreams"],[1,1340,146,47,"current"],[1,1348,148,16,"Utils"],[1,1350,148,22,"stopMediaStream"],[1,1366,148,38,"stream"],[1,1369,150,16,"video"],[1,1371,150,22,"current"],[1,1380,152,16,"Utils"],[1,1382,152,22,"setVideoSource"],[1,1397,152,37,"video"],[1,1399,152,43,"current"],[1,1407,152,52,"stream"],[1,1411,155,7],[1,1415,157,4,"useLoadedVideo"],[1,1417,157,19,"video"],[1,1419,157,25,"current"],[1,1427,157,34],[1,1432,158,8,"Utils"],[1,1434,158,14,"syncTrackCapabilities"],[1,1456,158,36,"preferredType"],[1,1458,158,51,"stream"],[1,1460,158,59,"capabilities"],[1,1462,158,72,"current"],[1,1473,160,11],[1,1474,161,8,"type"],[1,1481,162,8,"mediaTrackSettings"],[1,1502,164,0],[1,1504,2,0],[1,1508,2,0,"React"],[1,1510,2,0,"_interopRequireWildcard"],[1,1512,2,0,"_r"],[1,1515,2,0,"d"],[1,1517,2,0],[1,1522,3,0,"Utils"],[1,1524,3,0,"_interopRequireWildcard"],[1,1526,3,0,"_r"],[1,1529,3,0,"d"],[1,1531,3,0],[1,1536,4,0,"_WebConstants"],[1,1538,4,0,"_r"],[1,1541,4,0,"d"],[1,1543,4,0],[1,1547,4,56],[1,1556,4,56,"_interopRequireWildcard"],[1,1558,4,56,"e"],[1,1560,4,56,"t"],[1,1563,4,56],[1,1585,4,56,"WeakMap"],[1,1593,4,56],[1,1597,4,56,"r"],[1,1599,4,56],[1,1603,4,56,"WeakMap"],[1,1611,4,56,"n"],[1,1613,4,56],[1,1617,4,56,"WeakMap"],[1,1625,4,56],[1,1632,4,56,"_interopRequireWildcard"],[1,1634,4,56],[1,1643,4,56,"e"],[1,1645,4,56,"t"],[1,1648,4,56],[1,1652,4,56,"t"],[1,1655,4,56,"e"],[1,1660,4,56,"__esModule"],[1,1671,4,56],[1,1678,4,56,"e"],[1,1680,4,56],[1,1684,4,56,"o"],[1,1686,4,56,"i"],[1,1688,4,56,"f"],[1,1690,4,56],[1,1691,4,56,"__proto__"],[1,1701,4,56],[1,1706,4,56,"default"],[1,1714,4,56,"e"],[1,1717,4,56],[1,1727,4,56,"e"],[1,1730,4,56],[1,1747,4,56,"e"],[1,1750,4,56],[1,1769,4,56,"e"],[1,1771,4,56],[1,1778,4,56,"f"],[1,1780,4,56],[1,1783,4,56,"o"],[1,1785,4,56,"t"],[1,1787,4,56,"n"],[1,1789,4,56,"r"],[1,1791,4,56],[1,1795,4,56,"o"],[1,1797,4,56,"has"],[1,1801,4,56,"e"],[1,1804,4,56],[1,1811,4,56,"o"],[1,1813,4,56,"get"],[1,1817,4,56,"e"],[1,1820,4,56,"o"],[1,1822,4,56,"set"],[1,1826,4,56,"e"],[1,1828,4,56,"f"],[1,1830,4,56],[1,1841,4,56,"t"],[1,1846,4,56,"e"],[1,1848,4,56],[1,1860,4,56,"t"],[1,1863,4,56],[1,1866,4,56,"hasOwnProperty"],[1,1881,4,56,"call"],[1,1886,4,56,"e"],[1,1888,4,56,"t"],[1,1894,4,56,"i"],[1,1897,4,56,"o"],[1,1899,4,56,"Object"],[1,1906,4,56,"defineProperty"],[1,1923,4,56,"Object"],[1,1930,4,56,"getOwnPropertyDescriptor"],[1,1955,4,56,"e"],[1,1957,4,56,"t"],[1,1963,4,56,"i"],[1,1965,4,56,"get"],[1,1970,4,56,"i"],[1,1972,4,56,"set"],[1,1977,4,56,"o"],[1,1979,4,56,"f"],[1,1981,4,56,"t"],[1,1983,4,56,"i"],[1,1986,4,56,"f"],[1,1988,4,56,"t"],[1,1991,4,56,"e"],[1,1993,4,56,"t"],[1,1997,4,56],[1,2004,4,56,"f"],[1,2005,4,56],[1,2008,4,56,"e"],[1,2010,4,56,"t"],[1,2012,4,56],[1,2013,5,0],[1,2019,5,6,"VALID_SETTINGS_KEYS"],[1,2021,5,28],[1,2022,6,4],[1,2034,7,4],[1,2046,8,4],[1,2069,9,4],[1,2088,10,4],[1,2094,11,4],[1,2107,12,4],[1,2118,13,4],[1,2131,14,4],[1,2143,15,4],[1,2159,16,4],[1,2174,17,4],[1,2182,19,0],[1,2191,19,9,"useLoadedVideo"],[1,2193,19,24,"video"],[1,2195,19,31,"onLoaded"],[1,2198,20,4,"React"],[1,2200,20,10,"useEffect"],[1,2210,20,20],[1,2215,21,12,"video"],[1,2218,22,12,"video"],[1,2220,22,18,"addEventListener"],[1,2237,22,35],[1,2254,22,53],[1,2259,26,16,"requestAnimationFrame"],[1,2281,26,38],[1,2286,27,20,"onLoaded"],[1,2295,31,7],[1,2296,31,8,"video"],[1,2299,32,0],[1,2300,164,1],[1,2303]],"functionMap":{"names":["<global>","useLoadedVideo","React.useEffect$argument_0","video.addEventListener$argument_1","requestAnimationFrame$argument_0","useWebCameraStream","React.useMemo$argument_0","getStreamDeviceAsync","resumeAsync","activeStreams.current.some$argument_0","resumeAsync.then$argument_0","resumeAsync.then._catch$argument_0","<anonymous>","useLoadedVideo$argument_1"],"mappings":"AAA;ACkB;oBCC;qDCE;sCCI;iBDE;aDC;KDE;CDC;OKC;6CCU;KDE;+BCE;KDO;mDEC;KFa;0CGC;wCCU,sCD;KHS;oBHC;kBQO;SRE;mBSC;STG;KGC;oBHE;KGiB;oBHc;KGM;oBHC;eUC;SVU;KGC;kCQE;KRE;CLK"}},"type":"js/module"}]}