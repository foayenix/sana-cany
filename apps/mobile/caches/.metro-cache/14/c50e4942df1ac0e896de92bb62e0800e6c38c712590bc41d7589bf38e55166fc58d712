{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"]}},{"name":"../../State","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":36,"index":247}}],"key":"WEWPBXLBFeeryzJLF/iqxrLBTrA=","exportNames":["*"]}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":66,"index":314}}],"key":"05BxNcpXaYAeyUvpG1n5gignxMc=","exportNames":["*"]}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":315},"end":{"line":5,"column":46,"index":361}}],"key":"0oKNSZn0AMFFw0m17+cJMO/YqLM=","exportNames":["*"]}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":362},"end":{"line":6,"column":37,"index":399}}],"key":"4h752T1Mc+t0TArQHF8ZPfbqdCc=","exportNames":["*"]}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":400},"end":{"line":7,"column":43,"index":443}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=r(d[2]),s=r(d[3]),u=t(r(d[4])),h=t(r(d[5])),c=r(d[6]);const l=[\"enabled\"];function f(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}const P=s.Directions.RIGHT,p=(0,c.coneToDeviation)(30),b=(0,c.coneToDeviation)(60);class v extends u.default{constructor(...t){super(...t),f(this,\"numberOfPointersRequired\",1),f(this,\"direction\",P),f(this,\"maxDurationMs\",800),f(this,\"minVelocity\",700),f(this,\"delayTimeout\",void 0),f(this,\"maxNumberOfPointersSimultaneously\",0),f(this,\"keyPointer\",NaN)}updateGestureConfig(t){let{enabled:o=!0}=t,s=(0,n.default)(t,l);super.updateGestureConfig(Object.assign({enabled:o},s)),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=h.default.fromVelocity(this.tracker,this.keyPointer),n=(n,o)=>(n&this.direction)===n&&t.isSimilar(h.default.fromDirection(n),o),o=Object.values(s.Directions),u=Object.values(s.DiagonalDirections),c=o.map(t=>n(t,p)),l=u.map(t=>n(t,b)),f=c.some(Boolean)||l.some(Boolean),P=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!f||!P)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===o.State.UNDETERMINED&&this.startFling(),this.state===o.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(t){this.tracker.track(t),this.state===o.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.state===o.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=P}}e.default=v});","lineCount":1,"map":[[1,125,3,0,"_State"],[1,127,3,0,"r"],[1,129,3,0,"d"],[1,131,3,0],[1,135,4,0,"_Directions"],[1,137,4,0,"r"],[1,139,4,0,"d"],[1,141,4,0],[1,145,5,0,"_GestureHandler"],[1,147,5,0,"_interopRequireDefault"],[1,149,5,0,"r"],[1,151,5,0,"d"],[1,153,5,0],[1,158,6,0,"_Vector"],[1,160,6,0,"_interopRequireDefault"],[1,162,6,0,"r"],[1,164,6,0,"d"],[1,166,6,0],[1,171,7,0,"_utils"],[1,173,7,0,"r"],[1,175,7,0,"d"],[1,177,7,0],[1,181,7,43],[1,187,7,43,"_excluded"],[1,189,7,43],[1,201,1,0],[1,210,1,9,"_defineProperty"],[1,212,1,25,"obj"],[1,214,1,30,"key"],[1,216,1,35,"value"],[1,219,1,196],[1,226,1,48,"key"],[1,231,1,55,"obj"],[1,233,1,62,"Object"],[1,240,1,69,"defineProperty"],[1,255,1,84,"obj"],[1,257,1,89,"key"],[1,259,1,94],[1,260,1,96,"value"],[1,266,1,103,"value"],[1,268,1,110,"enumerable"],[1,280,1,122],[1,282,1,128,"configurable"],[1,296,1,142],[1,298,1,148,"writable"],[1,308,1,158],[1,312,1,176,"obj"],[1,314,1,180,"key"],[1,317,1,187,"value"],[1,319,1,203,"obj"],[1,320,1,208],[1,321,8,0],[1,327,11,6,"DEFAULT_DIRECTION"],[1,329,11,26,"Directions"],[1,342,11,37,"RIGHT"],[1,348,13,6,"AXIAL_DEVIATION_COSINE"],[1,351,13,31],[1,353,13,31,"coneToDeviation"],[1,372,10,31],[1,376,14,6,"DIAGONAL_DEVIATION_COSINE"],[1,379,14,34],[1,381,14,34,"coneToDeviation"],[1,400,14,49],[1,404,15,15],[1,410,15,21,"FlingGestureHandler"],[1,420,15,49,"GestureHandler"],[1,430,16,2,"constructor"],[1,445,16,17,"args"],[1,448,17,4,"super"],[1,457,17,13,"args"],[1,460,19,4,"_defineProperty"],[1,462,19,20,"this"],[1,467,19,26],[1,494,12,43],[1,497,21,4,"_defineProperty"],[1,499,21,20,"this"],[1,504,21,26],[1,516,21,39,"DEFAULT_DIRECTION"],[1,519,23,4,"_defineProperty"],[1,521,23,20,"this"],[1,526,23,26],[1,542,8,32],[1,547,25,4,"_defineProperty"],[1,549,25,20,"this"],[1,554,25,26],[1,568,9,29],[1,573,27,4,"_defineProperty"],[1,575,27,20,"this"],[1,580,27,26],[1,600,27,40,"undefined"],[1,603,29,4,"_defineProperty"],[1,605,29,20,"this"],[1,610,29,26],[1,646,29,63],[1,649,31,4,"_defineProperty"],[1,651,31,20,"this"],[1,656,31,26],[1,669,31,40,"NaN"],[1,673,32,2],[1,674,34,2,"updateGestureConfig"],[1,694,34,21,"_ref"],[1,697,37,5],[1,701,34,22,"enabled"],[1,709,35,4,"enabled"],[1,712,35,14],[1,715,37,3,"_ref"],[1,717,36,7,"props"],[1,720,36,12],[1,722,36,12,"_objectWithoutPropertiesLoose2"],[1,724,36,12,"default"],[1,733,36,12,"_ref"],[1,735,36,12,"_excluded"],[1,738,38,4,"super"],[1,744,38,10,"updateGestureConfig"],[1,764,38,29,"Object"],[1,771,38,29,"assign"],[1,778,38,29],[1,779,39,6,"enabled"],[1,787,39,15,"enabled"],[1,790,40,9,"props"],[1,794,43,8,"this"],[1,799,43,13,"config"],[1,806,43,20,"direction"],[1,818,44,6,"this"],[1,823,44,11,"direction"],[1,833,44,23,"this"],[1,838,44,28,"config"],[1,845,44,35,"direction"],[1,856,47,8,"this"],[1,861,47,13,"config"],[1,868,47,20,"numberOfPointers"],[1,887,48,6,"this"],[1,892,48,11,"numberOfPointersRequired"],[1,917,48,38,"this"],[1,922,48,43,"config"],[1,929,48,50,"numberOfPointers"],[1,946,50,2],[1,947,52,2,"startFling"],[1,960,53,4,"this"],[1,965,53,9,"begin"],[1,973,54,4,"this"],[1,978,54,9,"maxNumberOfPointersSimultaneously"],[1,1012,54,45],[1,1014,55,4,"this"],[1,1019,55,9,"delayTimeout"],[1,1032,55,24,"setTimeout"],[1,1043,55,35],[1,1047,55,41,"this"],[1,1052,55,46,"fail"],[1,1059,55,54,"this"],[1,1064,55,59,"maxDurationMs"],[1,1078,56,2],[1,1079,58,2,"tryEndFling"],[1,1093,59,4],[1,1099,59,10,"velocityVector"],[1,1101,59,27,"Vector"],[1,1111,59,34,"fromVelocity"],[1,1124,59,47,"this"],[1,1129,59,52,"tracker"],[1,1137,59,61,"this"],[1,1142,59,66,"keyPointer"],[1,1154,61,10,"getAlignment"],[1,1156,61,25,"getAlignment"],[1,1157,61,26,"direction"],[1,1159,61,37,"minimalAlignmentCosine"],[1,1164,62,14,"direction"],[1,1166,62,26,"this"],[1,1171,62,31,"direction"],[1,1184,62,46,"direction"],[1,1187,62,59,"velocityVector"],[1,1189,62,74,"isSimilar"],[1,1199,62,84,"Vector"],[1,1209,62,91,"fromDirection"],[1,1223,62,105,"direction"],[1,1226,62,117,"minimalAlignmentCosine"],[1,1229,65,10,"axialDirectionsList"],[1,1231,65,32,"Object"],[1,1238,65,39,"values"],[1,1245,65,46,"Directions"],[1,1259,66,10,"diagonalDirectionsList"],[1,1261,66,35,"Object"],[1,1268,66,42,"values"],[1,1275,66,49,"DiagonalDirections"],[1,1297,68,10,"axialAlignmentList"],[1,1299,68,31,"axialDirectionsList"],[1,1301,68,51,"map"],[1,1305,68,55,"direction"],[1,1308,68,68,"getAlignment"],[1,1310,68,81,"direction"],[1,1312,68,92,"AXIAL_DEVIATION_COSINE"],[1,1316,69,10,"diagonalAlignmentList"],[1,1318,69,34,"diagonalDirectionsList"],[1,1320,69,57,"map"],[1,1324,69,61,"direction"],[1,1327,69,74,"getAlignment"],[1,1329,69,87,"direction"],[1,1331,69,98,"DIAGONAL_DEVIATION_COSINE"],[1,1335,70,10,"isAligned"],[1,1337,70,22,"axialAlignmentList"],[1,1339,70,41,"some"],[1,1344,70,46,"Boolean"],[1,1354,70,58,"diagonalAlignmentList"],[1,1356,70,80,"some"],[1,1361,70,85,"Boolean"],[1,1370,71,10,"isFast"],[1,1372,71,19,"velocityVector"],[1,1374,71,34,"magnitude"],[1,1384,71,46,"this"],[1,1389,71,51,"minVelocity"],[1,1401,73,4],[1,1409,73,8,"this"],[1,1414,73,13,"maxNumberOfPointersSimultaneously"],[1,1450,73,51,"this"],[1,1455,73,56,"numberOfPointersRequired"],[1,1482,73,84,"isAligned"],[1,1486,73,97,"isFast"],[1,1491,74,6,"clearTimeout"],[1,1504,74,19,"this"],[1,1509,74,24,"delayTimeout"],[1,1523,75,6,"this"],[1,1528,75,11,"activate"],[1,1540,76,13],[1,1542,80,2],[1,1543,82,2,"endFling"],[1,1554,83,9,"this"],[1,1559,83,14,"tryEndFling"],[1,1574,84,6,"this"],[1,1579,84,11,"fail"],[1,1585,86,2],[1,1586,88,2,"onPointerDown"],[1,1600,88,16,"event"],[1,1603,89,9,"this"],[1,1608,89,14,"isButtonInConfig"],[1,1625,89,31,"event"],[1,1627,89,37,"button"],[1,1637,93,4,"this"],[1,1642,93,9,"tracker"],[1,1650,93,17,"addToTracker"],[1,1663,93,30,"event"],[1,1666,94,4,"this"],[1,1671,94,9,"keyPointer"],[1,1682,94,22,"event"],[1,1684,94,28,"pointerId"],[1,1694,95,4,"super"],[1,1700,95,10,"onPointerDown"],[1,1714,95,24,"event"],[1,1717,96,4,"this"],[1,1722,96,9,"newPointerAction"],[1,1741,97,4,"this"],[1,1746,97,9,"tryToSendTouchEvent"],[1,1766,97,29,"event"],[1,1769,98,2],[1,1770,100,2,"onPointerAdd"],[1,1783,100,15,"event"],[1,1786,101,4,"this"],[1,1791,101,9,"tracker"],[1,1799,101,17,"addToTracker"],[1,1812,101,30,"event"],[1,1815,102,4,"super"],[1,1821,102,10,"onPointerAdd"],[1,1834,102,23,"event"],[1,1837,103,4,"this"],[1,1842,103,9,"newPointerAction"],[1,1860,104,2],[1,1861,106,2,"newPointerAction"],[1,1880,107,8,"this"],[1,1885,107,13,"state"],[1,1893,107,23,"State"],[1,1901,107,29,"UNDETERMINED"],[1,1915,108,6,"this"],[1,1920,108,11,"startFling"],[1,1933,111,8,"this"],[1,1938,111,13,"state"],[1,1946,111,23,"State"],[1,1954,111,29,"BEGAN"],[1,1962,115,4,"this"],[1,1967,115,9,"tryEndFling"],[1,1981,117,8,"this"],[1,1986,117,13,"tracker"],[1,1994,117,21,"trackedPointersCount"],[1,2015,117,44,"this"],[1,2020,117,49,"maxNumberOfPointersSimultaneously"],[1,2056,118,6,"this"],[1,2061,118,11,"maxNumberOfPointersSimultaneously"],[1,2095,118,47,"this"],[1,2100,118,52,"tracker"],[1,2108,118,60,"trackedPointersCount"],[1,2130,120,2],[1,2131,122,2,"pointerMoveAction"],[1,2149,122,20,"event"],[1,2152,123,4,"this"],[1,2157,123,9,"tracker"],[1,2165,123,17,"track"],[1,2171,123,23,"event"],[1,2174,125,8,"this"],[1,2179,125,13,"state"],[1,2187,125,23,"State"],[1,2195,125,29,"BEGAN"],[1,2202,129,4,"this"],[1,2207,129,9,"tryEndFling"],[1,2220,130,2],[1,2221,132,2,"onPointerMove"],[1,2235,132,16,"event"],[1,2238,133,4,"this"],[1,2243,133,9,"pointerMoveAction"],[1,2261,133,27,"event"],[1,2264,134,4,"super"],[1,2270,134,10,"onPointerMove"],[1,2284,134,24,"event"],[1,2286,135,2],[1,2287,137,2,"onPointerOutOfBounds"],[1,2308,137,23,"event"],[1,2311,138,4,"this"],[1,2316,138,9,"pointerMoveAction"],[1,2334,138,27,"event"],[1,2337,139,4,"super"],[1,2343,139,10,"onPointerOutOfBounds"],[1,2364,139,31,"event"],[1,2366,140,2],[1,2367,142,2,"onPointerUp"],[1,2379,142,14,"event"],[1,2382,143,4,"super"],[1,2388,143,10,"onPointerUp"],[1,2400,143,22,"event"],[1,2403,144,4,"this"],[1,2408,144,9,"onUp"],[1,2413,144,14,"event"],[1,2416,145,4,"this"],[1,2421,145,9,"keyPointer"],[1,2432,145,22,"NaN"],[1,2435,146,2],[1,2436,148,2,"onPointerRemove"],[1,2452,148,18,"event"],[1,2455,149,4,"super"],[1,2461,149,10,"onPointerRemove"],[1,2477,149,26,"event"],[1,2480,150,4,"this"],[1,2485,150,9,"onUp"],[1,2490,150,14,"event"],[1,2492,151,2],[1,2493,153,2,"onUp"],[1,2498,153,7,"event"],[1,2501,154,8,"this"],[1,2506,154,13,"state"],[1,2514,154,23,"State"],[1,2522,154,29,"BEGAN"],[1,2529,155,6,"this"],[1,2534,155,11,"endFling"],[1,2545,158,4,"this"],[1,2550,158,9,"tracker"],[1,2558,158,17,"removeFromTracker"],[1,2576,158,35,"event"],[1,2578,158,41,"pointerId"],[1,2588,159,2],[1,2589,161,2,"activate"],[1,2598,161,11,"force"],[1,2601,162,4,"super"],[1,2607,162,10,"activate"],[1,2616,162,19,"force"],[1,2619,163,4,"this"],[1,2624,163,9,"end"],[1,2629,164,2],[1,2630,166,2,"resetConfig"],[1,2644,167,4,"super"],[1,2650,167,10,"resetConfig"],[1,2664,168,4,"this"],[1,2669,168,9,"numberOfPointersRequired"],[1,2694,12,43],[1,2696,169,4,"this"],[1,2701,169,9,"direction"],[1,2711,169,21,"DEFAULT_DIRECTION"],[1,2712,170,2],[1,2714,172,1,"e"],[1,2716,172,1,"default"],[1,2724,172,1,"FlingGestureHandler"],[1,2725,172,1],[1,2728]],"functionMap":{"names":["_defineProperty","<global>","FlingGestureHandler","constructor","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA,iNC;eCc;ECC;GDgB;EEE;GFgB;EGE;mCCG,iBD;GHC;EKE;yBCG;KDE;uDEK,4DF;6DGC,+DH;GLW;ESE;GTI;EUE;GVU;EWE;GXI;EYE;GZc;EaE;GbQ;EcE;GdG;EeE;GfG;EgBE;GhBI;EiBE;GjBG;EkBE;GlBM;EmBE;GnBG;EoBE;GpBI;CDE"}},"type":"js/module"}]}