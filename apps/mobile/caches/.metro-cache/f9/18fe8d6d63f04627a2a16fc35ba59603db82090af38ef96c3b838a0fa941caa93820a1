{"dependencies":[{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":24},"end":{"line":2,"column":49,"index":73}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"]}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":74},"end":{"line":3,"column":38,"index":112}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.onlineManager=e.OnlineManager=void 0;var n=r(d[0]),s=r(d[1]),t=class extends n.Subscribable{#e=!0;#n;#i;constructor(){super(),this.#i=n=>{if(!s.isServer&&window.addEventListener){const s=()=>n(!0),t=()=>n(!1);return window.addEventListener(\"online\",s,!1),window.addEventListener(\"offline\",t,!1),()=>{window.removeEventListener(\"online\",s),window.removeEventListener(\"offline\",t)}}}}onSubscribe(){this.#n||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(n){this.#i=n,this.#n?.(),this.#n=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(s=>{s(n)}))}isOnline(){return this.#e}};e.OnlineManager=t;e.onlineManager=new t});","lineCount":1,"map":[[1,116,2,0],[1,120,2,0,"_subscribable"],[1,122,2,0,"r"],[1,124,2,0,"d"],[1,126,2,0],[1,130,3,0,"_utils"],[1,132,3,0,"r"],[1,134,3,0,"d"],[1,136,3,0],[1,140,4,4,"OnlineManager"],[1,142,4,20],[1,156,4,34,"Subscribable"],[1,171,5,2,"online"],[1,175,5,12],[1,177,6,2,"cleanup"],[1,180,7,2,"setup"],[1,183,8,2,"constructor"],[1,197,9,4,"super"],[1,205,10,4,"this"],[1,211,10,9,"setup"],[1,213,10,19,"onOnline"],[1,217,11,6],[1,221,11,11,"isServer"],[1,233,11,23,"window"],[1,240,11,30,"addEventListener"],[1,257,11,48],[1,258,12,8],[1,264,12,14,"onlineListener"],[1,266,12,31,"onlineListener"],[1,270,12,37,"onOnline"],[1,273,12,46],[1,276,13,14,"offlineListener"],[1,278,13,32,"offlineListener"],[1,282,13,38,"onOnline"],[1,285,13,47],[1,288,16,8],[1,295,14,8,"window"],[1,302,14,15,"addEventListener"],[1,319,14,32],[1,328,14,42,"onlineListener"],[1,331,14,58],[1,334,15,8,"window"],[1,341,15,15,"addEventListener"],[1,358,15,32],[1,368,15,43,"offlineListener"],[1,371,15,60],[1,374,16,15],[1,379,17,10,"window"],[1,386,17,17,"removeEventListener"],[1,406,17,37],[1,415,17,47,"onlineListener"],[1,418,18,10,"window"],[1,425,18,17,"removeEventListener"],[1,445,18,37],[1,455,18,48,"offlineListener"],[1,458,20,6],[1,460,23,2],[1,461,24,2,"onSubscribe"],[1,475,25,9,"this"],[1,481,25,14,"cleanup"],[1,484,26,6,"this"],[1,489,26,11,"setEventListener"],[1,506,26,28,"this"],[1,512,26,33,"setup"],[1,514,28,2],[1,515,29,2,"onUnsubscribe"],[1,531,30,9,"this"],[1,536,30,14,"hasListeners"],[1,553,31,6,"this"],[1,559,31,11,"cleanup"],[1,565,32,6,"this"],[1,571,32,11,"cleanup"],[1,578,32,19,"undefined"],[1,580,34,2],[1,581,35,2,"setEventListener"],[1,598,35,19,"setup"],[1,601,36,4,"this"],[1,607,36,9,"setup"],[1,609,36,18,"setup"],[1,611,37,4,"this"],[1,617,37,9,"cleanup"],[1,623,38,4,"this"],[1,629,38,9,"cleanup"],[1,631,38,20,"setup"],[1,633,38,26,"this"],[1,638,38,31,"setOnline"],[1,648,38,41,"bind"],[1,653,38,46,"this"],[1,659,39,2],[1,660,40,2,"setOnline"],[1,670,40,12,"online"],[1,673,41,20,"this"],[1,679,41,25,"online"],[1,683,41,37,"online"],[1,687,43,6,"this"],[1,693,43,11,"online"],[1,695,43,21,"online"],[1,697,44,6,"this"],[1,702,44,11,"listeners"],[1,712,44,21,"forEach"],[1,720,44,30,"listener"],[1,724,45,8,"listener"],[1,726,45,17,"online"],[1,731,48,2],[1,732,49,2,"isOnline"],[1,743,50,4],[1,750,50,11,"this"],[1,756,50,16,"online"],[1,757,51,2],[1,760,52,2,"e"],[1,762,52,2,"OnlineManager"],[1,778,53,17,"e"],[1,780,53,17,"onlineManager"],[1,794,53,20],[1,798,53,24,"OnlineManager"],[1,799,53,40],[1,802]],"functionMap":{"names":["<global>","OnlineManager","OnlineManager#constructor","<anonymous>","onlineListener","offlineListener","OnlineManager#onSubscribe","OnlineManager#onUnsubscribe","OnlineManager#setEventListener","OnlineManager#setOnline","listeners.forEach$argument_0","OnlineManager#isOnline"],"mappings":"AAA;oBCG;ECI;kBCE;+BCE,oBD;gCEC,qBF;KDS;GDC;EKC;GLI;EMC;GNK;EOC;GPI;EQC;6BCI;ODE;GRE;EUC;GVE;CDC"}},"type":"js/module"}]}