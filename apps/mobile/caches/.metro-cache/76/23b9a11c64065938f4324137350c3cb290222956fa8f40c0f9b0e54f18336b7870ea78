{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"./CircularBuffer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":46,"index":257}}],"key":"uVgm5B14gvsefJ8WOcz2JJQif+Q=","exportNames":["*"]}},{"name":"./LeastSquareSolver","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":258},"end":{"line":4,"column":52,"index":310}}],"key":"pL+OKV6zXpveMrqrg91kFAGJP/w=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=s(r(d[1])),l=s(r(d[2]));function n(s,t,l){return t in s?Object.defineProperty(s,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[t]=l,s}e.default=class{constructor(){n(this,\"assumePointerMoveStoppedMilliseconds\",40),n(this,\"historySize\",20),n(this,\"horizonMilliseconds\",300),n(this,\"minSampleSize\",3),n(this,\"samples\",void 0),this.samples=new t.default(this.historySize)}add(s){this.samples.push(s)}getVelocityEstimate(){const s=[],t=[],n=[],o=[];let u=0,h=this.samples.size-1;const c=this.samples.get(h);if(!c)return null;let p=c;for(;u<this.samples.size;){const l=this.samples.get(h),f=c.time-l.time,v=Math.abs(l.time-p.time);if(p=l,f>this.horizonMilliseconds||v>this.assumePointerMoveStoppedMilliseconds)break;s.push(l.x),t.push(l.y),n.push(1),o.push(-f),u++,h--}if(u>=this.minSampleSize){const u=new l.default(o,s,n).solve(2);if(null!==u){const s=new l.default(o,t,n).solve(2);if(null!==s){return[1e3*u.coefficients[1],1e3*s.coefficients[1]]}}}return null}get velocity(){const s=this.getVelocityEstimate();return null!==s?s:[0,0]}reset(){this.samples.clear()}}});","lineCount":1,"map":[[1,108,3,0],[1,112,3,0,"_CircularBuffer"],[1,114,3,0,"_interopRequireDefault"],[1,116,3,0,"r"],[1,118,3,0,"d"],[1,120,3,0],[1,125,4,0,"_LeastSquareSolver"],[1,127,4,0,"_interopRequireDefault"],[1,129,4,0,"r"],[1,131,4,0,"d"],[1,133,4,0],[1,138,1,0],[1,147,1,9,"_defineProperty"],[1,149,1,25,"obj"],[1,151,1,30,"key"],[1,153,1,35,"value"],[1,156,1,196],[1,163,1,48,"key"],[1,168,1,55,"obj"],[1,170,1,62,"Object"],[1,177,1,69,"defineProperty"],[1,192,1,84,"obj"],[1,194,1,89,"key"],[1,196,1,94],[1,197,1,96,"value"],[1,203,1,103,"value"],[1,205,1,110,"enumerable"],[1,217,1,122],[1,219,1,128,"configurable"],[1,233,1,142],[1,235,1,148,"writable"],[1,245,1,158],[1,249,1,176,"obj"],[1,251,1,180,"key"],[1,254,1,187,"value"],[1,256,1,203,"obj"],[1,257,1,208],[1,258,97,1,"e"],[1,260,97,1,"default"],[1,268,5,15],[1,274,6,2,"constructor"],[1,288,7,4,"_defineProperty"],[1,290,7,20,"this"],[1,295,7,26],[1,334,7,66],[1,338,9,4,"_defineProperty"],[1,340,9,20,"this"],[1,345,9,26],[1,359,9,41],[1,363,11,4,"_defineProperty"],[1,365,11,20,"this"],[1,370,11,26],[1,392,11,49],[1,397,13,4,"_defineProperty"],[1,399,13,20,"this"],[1,404,13,26],[1,420,13,43],[1,423,15,4,"_defineProperty"],[1,425,15,20,"this"],[1,430,15,26],[1,445,15,35,"undefined"],[1,448,17,4,"this"],[1,453,17,9,"samples"],[1,461,17,19],[1,465,17,23,"CircularBuffer"],[1,475,17,38,"this"],[1,480,17,43,"historySize"],[1,492,18,2],[1,493,20,2,"add"],[1,497,20,6,"event"],[1,500,21,4,"this"],[1,505,21,9,"samples"],[1,513,21,17,"push"],[1,518,21,22,"event"],[1,520,22,2],[1,521,30,2,"getVelocityEstimate"],[1,543,31,4],[1,549,31,10,"x"],[1,551,31,14],[1,554,32,10,"y"],[1,556,32,14],[1,559,33,10,"w"],[1,561,33,14],[1,564,34,10,"time"],[1,566,34,17],[1,569,35,4],[1,573,35,8,"sampleCount"],[1,575,35,22],[1,577,36,8,"index"],[1,579,36,16,"this"],[1,584,36,21,"samples"],[1,592,36,29,"size"],[1,597,36,36],[1,599,37,4],[1,605,37,10,"newestSample"],[1,607,37,25,"this"],[1,612,37,30,"samples"],[1,620,37,38,"get"],[1,624,37,42,"index"],[1,627,39,4],[1,631,39,9,"newestSample"],[1,633,40,6],[1,640,40,13],[1,645,43,4],[1,649,43,8,"previousSample"],[1,651,43,25,"newestSample"],[1,653,46,4],[1,658,46,11,"sampleCount"],[1,660,46,25,"this"],[1,665,46,30,"samples"],[1,673,46,38,"size"],[1,679,46,44],[1,680,47,6],[1,686,47,12,"sample"],[1,688,47,21,"this"],[1,693,47,26,"samples"],[1,701,47,34,"get"],[1,705,47,38,"index"],[1,708,48,12,"age"],[1,710,48,18,"newestSample"],[1,712,48,31,"time"],[1,717,48,38,"sample"],[1,719,48,45,"time"],[1,724,49,12,"delta"],[1,726,49,20,"Math"],[1,731,49,25,"abs"],[1,735,49,29,"sample"],[1,737,49,36,"time"],[1,742,49,43,"previousSample"],[1,744,49,58,"time"],[1,750,52,6],[1,753,50,6,"previousSample"],[1,755,50,23,"sample"],[1,757,52,10,"age"],[1,759,52,16,"this"],[1,764,52,21,"horizonMilliseconds"],[1,785,52,44,"delta"],[1,787,52,52,"this"],[1,792,52,57,"assumePointerMoveStoppedMilliseconds"],[1,829,53,8],[1,835,56,6,"x"],[1,837,56,8,"push"],[1,842,56,13,"sample"],[1,844,56,20,"x"],[1,847,57,6,"y"],[1,849,57,8,"push"],[1,854,57,13,"sample"],[1,856,57,20,"y"],[1,859,58,6,"w"],[1,861,58,8,"push"],[1,866,58,13],[1,869,59,6,"time"],[1,871,59,11,"push"],[1,877,59,17,"age"],[1,880,60,6,"sampleCount"],[1,884,61,6,"index"],[1,887,62,4],[1,888,64,4],[1,891,64,8,"sampleCount"],[1,894,64,23,"this"],[1,899,64,28,"minSampleSize"],[1,913,64,43],[1,914,65,6],[1,920,66,12,"xFit"],[1,922,65,22],[1,926,65,26,"LeastSquareSolver"],[1,936,65,44,"time"],[1,938,65,50,"x"],[1,940,65,53,"w"],[1,943,66,27,"solve"],[1,949,66,33],[1,952,68,6],[1,955,68,19],[1,962,68,10,"xFit"],[1,964,68,25],[1,965,69,8],[1,971,70,14,"yFit"],[1,973,69,24],[1,977,69,28,"LeastSquareSolver"],[1,987,69,46,"time"],[1,989,69,52,"y"],[1,991,69,55,"w"],[1,994,70,29,"solve"],[1,1000,70,35],[1,1003,72,8],[1,1006,72,21],[1,1013,72,12,"yFit"],[1,1015,72,27],[1,1016,75,10],[1,1022,75,17],[1,1023,73,51],[1,1027,73,28,"xFit"],[1,1029,73,33,"coefficients"],[1,1042,73,46],[1,1045,74,51],[1,1049,74,28,"yFit"],[1,1051,74,33,"coefficients"],[1,1064,74,46],[1,1067,76,8],[1,1068,77,6],[1,1069,78,4],[1,1070,80,4],[1,1077,80,11],[1,1081,81,2],[1,1082,83,2],[1,1094,83,6,"velocity"],[1,1097,84,4],[1,1103,84,10,"estimate"],[1,1105,84,21,"this"],[1,1110,84,26,"getVelocityEstimate"],[1,1132,86,4],[1,1139,86,21],[1,1146,86,8,"estimate"],[1,1148,87,13,"estimate"],[1,1150,90,11],[1,1151,90,12],[1,1153,90,15],[1,1155,91,2],[1,1156,93,2,"reset"],[1,1164,94,4,"this"],[1,1169,94,9,"samples"],[1,1177,94,17,"clear"],[1,1184,95,2],[1,1186,97,1],[1,1189]],"functionMap":{"names":["_defineProperty","<global>","VelocityTracker","constructor","add","getVelocityEstimate","get__velocity","reset"],"mappings":"AAA,iNC;eCI;ECC;GDY;EEE;GFE;EGQ;GHmD;EIE;GJQ;EKE;GLE;CDE"}},"type":"js/module"}]}