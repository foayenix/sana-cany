{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":43,"index":254}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"]}},{"name":"./EventManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":255},"end":{"line":4,"column":42,"index":297}}],"key":"+tTRfUGWY5rcrw6ZVLEgvlFTMQc=","exportNames":["*"]}},{"name":"../../PointerType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":298},"end":{"line":5,"column":48,"index":346}}],"key":"PNpP2j+zRZwLQ3w6ZmXPMJNakiU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=r(d[1]),n=t(r(d[2])),o=r(d[3]);function h(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}class l extends n.default{constructor(...t){super(...t),h(this,\"activationKeys\",['Enter',' ']),h(this,\"cancelationKeys\",['Tab']),h(this,\"isPressed\",!1),h(this,\"keyDownCallback\",t=>{-1!==this.cancelationKeys.indexOf(t.key)&&this.isPressed?this.dispatchEvent(t,s.EventTypes.CANCEL):-1!==this.activationKeys.indexOf(t.key)&&this.dispatchEvent(t,s.EventTypes.DOWN)}),h(this,\"keyUpCallback\",t=>{-1!==this.activationKeys.indexOf(t.key)&&this.isPressed&&this.dispatchEvent(t,s.EventTypes.UP)})}dispatchEvent(t,n){if(!(t.target instanceof HTMLElement))return;const o=this.mapEvent(t,n);switch(n){case s.EventTypes.UP:this.isPressed=!1,this.onPointerUp(o);break;case s.EventTypes.DOWN:this.isPressed=!0,this.onPointerDown(o);break;case s.EventTypes.CANCEL:this.isPressed=!1,this.onPointerCancel(o)}}registerListeners(){this.view.addEventListener('keydown',this.keyDownCallback),this.view.addEventListener('keyup',this.keyUpCallback)}unregisterListeners(){this.view.removeEventListener('keydown',this.keyDownCallback),this.view.removeEventListener('keyup',this.keyUpCallback)}mapEvent(t,s){const n=t.target.getBoundingClientRect(),h={x:(null==n?void 0:n.x)+(null==n?void 0:n.width)/2,y:(null==n?void 0:n.y)+(null==n?void 0:n.height)/2},l={x:(null==n?void 0:n.width)/2,y:(null==n?void 0:n.height)/2};return{x:h.x,y:h.y,offsetX:l.x,offsetY:l.y,pointerId:0,eventType:s,pointerType:o.PointerType.KEY,time:t.timeStamp}}}e.default=l});","lineCount":1,"map":[[1,108,3,0],[1,112,3,0,"_interfaces"],[1,114,3,0,"r"],[1,116,3,0,"d"],[1,118,3,0],[1,122,4,0,"_EventManager"],[1,124,4,0,"_interopRequireDefault"],[1,126,4,0,"r"],[1,128,4,0,"d"],[1,130,4,0],[1,135,5,0,"_PointerType"],[1,137,5,0,"r"],[1,139,5,0,"d"],[1,141,5,0],[1,145,1,0],[1,154,1,9,"_defineProperty"],[1,156,1,25,"obj"],[1,158,1,30,"key"],[1,160,1,35,"value"],[1,163,1,196],[1,170,1,48,"key"],[1,175,1,55,"obj"],[1,177,1,62,"Object"],[1,184,1,69,"defineProperty"],[1,199,1,84,"obj"],[1,201,1,89,"key"],[1,203,1,94],[1,204,1,96,"value"],[1,210,1,103,"value"],[1,212,1,110,"enumerable"],[1,224,1,122],[1,226,1,128,"configurable"],[1,240,1,142],[1,242,1,148,"writable"],[1,252,1,158],[1,256,1,176,"obj"],[1,258,1,180,"key"],[1,261,1,187,"value"],[1,263,1,203,"obj"],[1,264,1,208],[1,265,6,15],[1,271,6,21,"KeyboardEventManager"],[1,281,6,50,"EventManager"],[1,291,7,2,"constructor"],[1,306,7,17,"args"],[1,309,8,4,"super"],[1,318,8,13,"args"],[1,321,10,4,"_defineProperty"],[1,323,10,20,"this"],[1,328,10,26],[1,345,10,44],[1,346,10,45],[1,354,10,54],[1,360,12,4,"_defineProperty"],[1,362,12,20,"this"],[1,367,12,26],[1,385,12,45],[1,386,12,46],[1,394,14,4,"_defineProperty"],[1,396,14,20,"this"],[1,401,14,26],[1,414,14,39],[1,417,16,4,"_defineProperty"],[1,419,16,20,"this"],[1,424,16,26],[1,442,16,45,"event"],[1,447,17,49],[1,451,17,10,"this"],[1,456,17,15,"cancelationKeys"],[1,472,17,31,"indexOf"],[1,480,17,39,"event"],[1,482,17,45,"key"],[1,488,17,60,"this"],[1,493,17,65,"isPressed"],[1,503,18,8,"this"],[1,508,18,13,"dispatchEvent"],[1,522,18,27,"event"],[1,524,18,34,"EventTypes"],[1,537,18,45,"CANCEL"],[1,546,22,48],[1,550,22,10,"this"],[1,555,22,15,"activationKeys"],[1,570,22,30,"indexOf"],[1,578,22,38,"event"],[1,580,22,44,"key"],[1,586,26,6,"this"],[1,591,26,11,"dispatchEvent"],[1,605,26,25,"event"],[1,607,26,32,"EventTypes"],[1,620,26,43,"DOWN"],[1,628,29,4,"_defineProperty"],[1,630,29,20,"this"],[1,635,29,26],[1,651,29,43,"event"],[1,656,30,48],[1,660,30,10,"this"],[1,665,30,15,"activationKeys"],[1,680,30,30,"indexOf"],[1,688,30,38,"event"],[1,690,30,44,"key"],[1,696,30,60,"this"],[1,701,30,65,"isPressed"],[1,712,34,6,"this"],[1,717,34,11,"dispatchEvent"],[1,731,34,25,"event"],[1,733,34,32,"EventTypes"],[1,746,34,43,"UP"],[1,751,36,2],[1,752,38,2,"dispatchEvent"],[1,766,38,16,"event"],[1,768,38,23,"eventType"],[1,771,39,4],[1,776,39,10,"event"],[1,778,39,16,"target"],[1,796,39,34,"HTMLElement"],[1,809,40,6],[1,816,43,4],[1,822,43,10,"adaptedEvent"],[1,824,43,25,"this"],[1,829,43,30,"mapEvent"],[1,838,43,39,"event"],[1,840,43,46,"eventType"],[1,843,45,4],[1,850,45,12,"eventType"],[1,853,46,6],[1,858,46,11,"EventTypes"],[1,871,46,22,"UP"],[1,874,47,8,"this"],[1,879,47,13,"isPressed"],[1,890,47,25],[1,892,48,8,"this"],[1,897,48,13,"onPointerUp"],[1,909,48,25,"adaptedEvent"],[1,912,49,8],[1,918,51,6],[1,923,51,11,"EventTypes"],[1,936,51,22,"DOWN"],[1,941,52,8,"this"],[1,946,52,13,"isPressed"],[1,957,52,25],[1,959,53,8,"this"],[1,964,53,13,"onPointerDown"],[1,978,53,27,"adaptedEvent"],[1,981,54,8],[1,987,56,6],[1,992,56,11,"EventTypes"],[1,1005,56,22,"CANCEL"],[1,1012,57,8,"this"],[1,1017,57,13,"isPressed"],[1,1028,57,25],[1,1030,58,8,"this"],[1,1035,58,13,"onPointerCancel"],[1,1051,58,29,"adaptedEvent"],[1,1054,61,2],[1,1055,63,2,"registerListeners"],[1,1075,64,4,"this"],[1,1080,64,9,"view"],[1,1085,64,14,"addEventListener"],[1,1102,64,31],[1,1112,64,42,"this"],[1,1117,64,47,"keyDownCallback"],[1,1134,65,4,"this"],[1,1139,65,9,"view"],[1,1144,65,14,"addEventListener"],[1,1161,65,31],[1,1169,65,40,"this"],[1,1174,65,45,"keyUpCallback"],[1,1188,66,2],[1,1189,68,2,"unregisterListeners"],[1,1211,69,4,"this"],[1,1216,69,9,"view"],[1,1221,69,14,"removeEventListener"],[1,1241,69,34],[1,1251,69,45,"this"],[1,1256,69,50,"keyDownCallback"],[1,1273,70,4,"this"],[1,1278,70,9,"view"],[1,1283,70,14,"removeEventListener"],[1,1303,70,34],[1,1311,70,43,"this"],[1,1316,70,48,"keyUpCallback"],[1,1330,71,2],[1,1331,73,2,"mapEvent"],[1,1340,73,11,"event"],[1,1342,73,18,"eventType"],[1,1345,74,4],[1,1351,74,10,"viewRect"],[1,1353,74,21,"event"],[1,1355,74,27,"target"],[1,1362,74,34,"getBoundingClientRect"],[1,1386,75,10,"viewportPosition"],[1,1388,75,29],[1,1389,76,6,"x"],[1,1392,76,10,"viewRect"],[1,1405,76,50,"undefined"],[1,1407,76,62,"viewRect"],[1,1409,76,71,"x"],[1,1413,76,77,"viewRect"],[1,1426,76,117,"undefined"],[1,1428,76,129,"viewRect"],[1,1430,76,138,"width"],[1,1437,76,147],[1,1439,77,6,"y"],[1,1442,77,10,"viewRect"],[1,1455,77,50,"undefined"],[1,1457,77,62,"viewRect"],[1,1459,77,71,"y"],[1,1463,77,77,"viewRect"],[1,1476,77,117,"undefined"],[1,1478,77,129,"viewRect"],[1,1480,77,138,"height"],[1,1488,77,148],[1,1491,79,10,"relativePosition"],[1,1493,79,29],[1,1494,80,6,"x"],[1,1497,80,10,"viewRect"],[1,1510,80,50,"undefined"],[1,1512,80,62,"viewRect"],[1,1514,80,71,"width"],[1,1521,80,80],[1,1523,81,6,"y"],[1,1526,81,10,"viewRect"],[1,1539,81,50,"undefined"],[1,1541,81,62,"viewRect"],[1,1543,81,71,"height"],[1,1551,81,81],[1,1554,83,4],[1,1560,83,11],[1,1561,84,6,"x"],[1,1563,84,9,"viewportPosition"],[1,1565,84,26,"x"],[1,1567,85,6,"y"],[1,1569,85,9,"viewportPosition"],[1,1571,85,26,"y"],[1,1573,86,6,"offsetX"],[1,1581,86,15,"relativePosition"],[1,1583,86,32,"x"],[1,1585,87,6,"offsetY"],[1,1593,87,15,"relativePosition"],[1,1595,87,32,"y"],[1,1597,88,6,"pointerId"],[1,1607,88,17],[1,1609,89,6,"eventType"],[1,1619,89,17,"eventType"],[1,1621,90,6,"pointerType"],[1,1633,90,19,"PointerType"],[1,1647,90,31,"KEY"],[1,1651,91,6,"time"],[1,1656,91,12,"event"],[1,1658,91,18,"timeStamp"],[1,1668,93,2],[1,1670,95,1,"e"],[1,1672,95,1,"default"],[1,1680,95,1,"KeyboardEventManager"],[1,1681,95,1],[1,1684]],"functionMap":{"names":["_defineProperty","<global>","KeyboardEventManager","constructor","_defineProperty$argument_2","dispatchEvent","registerListeners","unregisterListeners","mapEvent"],"mappings":"AAA,iNC;eCK;ECC;6CCS;KDW;2CCE;KDM;GDC;EGE;GHuB;EIE;GJG;EKE;GLG;EME;GNoB;CDE"}},"type":"js/module"}]}