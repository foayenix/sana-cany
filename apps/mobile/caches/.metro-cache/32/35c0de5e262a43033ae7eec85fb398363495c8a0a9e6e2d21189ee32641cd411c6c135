{"dependencies":[{"name":"../constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":211},"end":{"line":3,"column":50,"index":261}}],"key":"eTOOXVNPpMK2U8dOAmBWjbEJ4yE=","exportNames":["*"]}},{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":262},"end":{"line":4,"column":43,"index":305}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),s=r(d[1]);function n(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}e.default=class{constructor(s){n(this,\"onScaleBegin\",void 0),n(this,\"onScale\",void 0),n(this,\"onScaleEnd\",void 0),n(this,\"_focusX\",void 0),n(this,\"_focusY\",void 0),n(this,\"_currentSpan\",void 0),n(this,\"prevSpan\",void 0),n(this,\"initialSpan\",void 0),n(this,\"currentTime\",void 0),n(this,\"prevTime\",void 0),n(this,\"inProgress\",!1),n(this,\"spanSlop\",void 0),n(this,\"minSpan\",void 0),this.onScaleBegin=s.onScaleBegin,this.onScale=s.onScale,this.onScaleEnd=s.onScaleEnd,this.spanSlop=2*t.DEFAULT_TOUCH_SLOP,this.minSpan=0}onTouchEvent(t,n){this.currentTime=t.time;const o=t.eventType,h=n.trackedPointersCount,c=o===s.EventTypes.UP||o===s.EventTypes.ADDITIONAL_POINTER_UP||o===s.EventTypes.CANCEL;if((o===s.EventTypes.DOWN||c)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),c))return!0;const p=o===s.EventTypes.DOWN||o===s.EventTypes.ADDITIONAL_POINTER_UP||o===s.EventTypes.ADDITIONAL_POINTER_DOWN,u=o===s.EventTypes.ADDITIONAL_POINTER_UP,S=u?t.pointerId:void 0,l=u?h-1:h,v=n.getAbsoluteCoordsSum(),T=v.x/l,_=v.y/l;let E=0,P=0;n.trackedPointers.forEach((t,s)=>{s!==S&&(E+=Math.abs(t.abosoluteCoords.x-T),P+=Math.abs(t.abosoluteCoords.y-_))});const f=2*(E/l),O=2*(P/l),y=Math.hypot(f,O),D=this.inProgress;return this._focusX=T,this._focusY=_,this.inProgress&&(y<this.minSpan||p)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=y),p&&(this.initialSpan=this.prevSpan=this._currentSpan=y),!this.inProgress&&y>=this.minSpan&&(D||Math.abs(y-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this._currentSpan=y,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),o!==s.EventTypes.MOVE||(this._currentSpan=y,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}calculateScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}get currentSpan(){return this._currentSpan}get focusX(){return this._focusX}get focusY(){return this._focusY}get timeDelta(){return this.currentTime-this.prevTime}}});","lineCount":1,"map":[[1,94,3,0],[1,98,3,0,"_constants"],[1,100,3,0,"r"],[1,102,3,0,"d"],[1,104,3,0],[1,108,4,0,"_interfaces"],[1,110,4,0,"r"],[1,112,4,0,"d"],[1,114,4,0],[1,118,1,0],[1,127,1,9,"_defineProperty"],[1,129,1,25,"obj"],[1,131,1,30,"key"],[1,133,1,35,"value"],[1,136,1,196],[1,143,1,48,"key"],[1,148,1,55,"obj"],[1,150,1,62,"Object"],[1,157,1,69,"defineProperty"],[1,172,1,84,"obj"],[1,174,1,89,"key"],[1,176,1,94],[1,177,1,96,"value"],[1,183,1,103,"value"],[1,185,1,110,"enumerable"],[1,197,1,122],[1,199,1,128,"configurable"],[1,213,1,142],[1,215,1,148,"writable"],[1,225,1,158],[1,229,1,176,"obj"],[1,231,1,180,"key"],[1,234,1,187,"value"],[1,236,1,203,"obj"],[1,237,1,208],[1,238,143,1,"e"],[1,240,143,1,"default"],[1,248,5,15],[1,254,6,2,"constructor"],[1,266,6,14,"callbacks"],[1,269,7,4,"_defineProperty"],[1,271,7,20,"this"],[1,276,7,26],[1,296,7,40,"undefined"],[1,299,9,4,"_defineProperty"],[1,301,9,20,"this"],[1,306,9,26],[1,321,9,35,"undefined"],[1,324,11,4,"_defineProperty"],[1,326,11,20,"this"],[1,331,11,26],[1,349,11,38,"undefined"],[1,352,13,4,"_defineProperty"],[1,354,13,20,"this"],[1,359,13,26],[1,374,13,35,"undefined"],[1,377,15,4,"_defineProperty"],[1,379,15,20,"this"],[1,384,15,26],[1,399,15,35,"undefined"],[1,402,17,4,"_defineProperty"],[1,404,17,20,"this"],[1,409,17,26],[1,429,17,40,"undefined"],[1,432,19,4,"_defineProperty"],[1,434,19,20,"this"],[1,439,19,26],[1,455,19,36,"undefined"],[1,458,21,4,"_defineProperty"],[1,460,21,20,"this"],[1,465,21,26],[1,484,21,39,"undefined"],[1,487,23,4,"_defineProperty"],[1,489,23,20,"this"],[1,494,23,26],[1,513,23,39,"undefined"],[1,516,25,4,"_defineProperty"],[1,518,25,20,"this"],[1,523,25,26],[1,539,25,36,"undefined"],[1,542,27,4,"_defineProperty"],[1,544,27,20,"this"],[1,549,27,26],[1,563,27,40],[1,566,29,4,"_defineProperty"],[1,568,29,20,"this"],[1,573,29,26],[1,589,29,36,"undefined"],[1,592,31,4,"_defineProperty"],[1,594,31,20,"this"],[1,599,31,26],[1,614,31,35,"undefined"],[1,617,33,4,"this"],[1,622,33,9,"onScaleBegin"],[1,635,33,24,"callbacks"],[1,637,33,34,"onScaleBegin"],[1,650,34,4,"this"],[1,655,34,9,"onScale"],[1,663,34,19,"callbacks"],[1,665,34,29,"onScale"],[1,673,35,4,"this"],[1,678,35,9,"onScaleEnd"],[1,689,35,22,"callbacks"],[1,691,35,32,"onScaleEnd"],[1,702,36,4,"this"],[1,707,36,9,"spanSlop"],[1,716,36,41],[1,718,36,20,"DEFAULT_TOUCH_SLOP"],[1,739,37,4,"this"],[1,744,37,9,"minSpan"],[1,752,37,19],[1,753,38,2],[1,754,40,2,"onTouchEvent"],[1,767,40,15,"event"],[1,769,40,22,"tracker"],[1,772,41,4,"this"],[1,777,41,9,"currentTime"],[1,789,41,23,"event"],[1,791,41,29,"time"],[1,796,42,4],[1,802,42,10,"action"],[1,804,42,19,"event"],[1,806,42,25,"eventType"],[1,816,43,10,"numOfPointers"],[1,818,43,26,"tracker"],[1,820,43,34,"trackedPointersCount"],[1,841,44,10,"streamComplete"],[1,843,44,27,"action"],[1,847,44,38,"EventTypes"],[1,860,44,49,"UP"],[1,864,44,55,"action"],[1,868,44,66,"EventTypes"],[1,881,44,77,"ADDITIONAL_POINTER_UP"],[1,904,44,102,"action"],[1,908,44,113,"EventTypes"],[1,921,44,124,"CANCEL"],[1,928,46,4],[1,932,46,8,"action"],[1,936,46,19,"EventTypes"],[1,949,46,30,"DOWN"],[1,955,46,38,"streamComplete"],[1,960,47,10,"this"],[1,965,47,15,"inProgress"],[1,978,48,8,"this"],[1,983,48,13,"onScaleEnd"],[1,994,48,24,"this"],[1,1000,49,8,"this"],[1,1005,49,13,"inProgress"],[1,1017,49,26],[1,1019,50,8,"this"],[1,1024,50,13,"initialSpan"],[1,1036,50,27],[1,1039,53,10,"streamComplete"],[1,1042,54,8],[1,1049,54,15],[1,1051,58,4],[1,1057,58,10,"configChanged"],[1,1059,58,26,"action"],[1,1063,58,37,"EventTypes"],[1,1076,58,48,"DOWN"],[1,1082,58,56,"action"],[1,1086,58,67,"EventTypes"],[1,1099,58,78,"ADDITIONAL_POINTER_UP"],[1,1122,58,103,"action"],[1,1126,58,114,"EventTypes"],[1,1139,58,125,"ADDITIONAL_POINTER_DOWN"],[1,1163,59,10,"pointerUp"],[1,1165,59,22,"action"],[1,1169,59,33,"EventTypes"],[1,1182,59,44,"ADDITIONAL_POINTER_UP"],[1,1204,60,10,"ignoredPointer"],[1,1206,60,27,"pointerUp"],[1,1208,60,39,"event"],[1,1210,60,45,"pointerId"],[1,1225,60,57,"undefined"],[1,1227,62,10,"div"],[1,1229,62,16,"pointerUp"],[1,1231,62,28,"numOfPointers"],[1,1233,62,44],[1,1235,62,48,"numOfPointers"],[1,1237,63,10,"coordsSum"],[1,1239,63,22,"tracker"],[1,1241,63,30,"getAbsoluteCoordsSum"],[1,1264,64,10,"focusX"],[1,1266,64,19,"coordsSum"],[1,1268,64,29,"x"],[1,1270,64,33,"div"],[1,1272,65,10,"focusY"],[1,1274,65,19,"coordsSum"],[1,1276,65,29,"y"],[1,1278,65,33,"div"],[1,1280,67,4],[1,1284,67,8,"devSumX"],[1,1286,67,18],[1,1288,68,8,"devSumY"],[1,1290,68,18],[1,1292,69,4,"tracker"],[1,1294,69,12,"trackedPointers"],[1,1310,69,28,"forEach"],[1,1318,69,36],[1,1319,69,37,"value"],[1,1321,69,44,"key"],[1,1326,70,10,"key"],[1,1330,70,18,"ignoredPointer"],[1,1334,74,6,"devSumX"],[1,1337,74,17,"Math"],[1,1342,74,22,"abs"],[1,1346,74,26,"value"],[1,1348,74,32,"abosoluteCoords"],[1,1364,74,48,"x"],[1,1366,74,52,"focusX"],[1,1369,75,6,"devSumY"],[1,1372,75,17,"Math"],[1,1377,75,22,"abs"],[1,1381,75,26,"value"],[1,1383,75,32,"abosoluteCoords"],[1,1399,75,48,"y"],[1,1401,75,52,"focusY"],[1,1407,77,4],[1,1413,79,10,"spanX"],[1,1415,79,25],[1,1418,77,17,"devSumX"],[1,1420,77,27,"div"],[1,1423,80,10,"spanY"],[1,1425,80,25],[1,1428,78,17,"devSumY"],[1,1430,78,27,"div"],[1,1433,81,10,"span"],[1,1435,81,17,"Math"],[1,1440,81,22,"hypot"],[1,1446,81,28,"spanX"],[1,1448,81,35,"spanY"],[1,1451,83,10,"wasInProgress"],[1,1453,83,26,"this"],[1,1458,83,31,"inProgress"],[1,1469,104,4],[1,1476,84,4,"this"],[1,1481,84,9,"_focusX"],[1,1489,84,19,"focusX"],[1,1491,85,4,"this"],[1,1496,85,9,"_focusY"],[1,1504,85,19,"focusY"],[1,1506,87,8,"this"],[1,1511,87,13,"inProgress"],[1,1524,87,28,"span"],[1,1526,87,35,"this"],[1,1531,87,40,"minSpan"],[1,1540,87,51,"configChanged"],[1,1545,88,6,"this"],[1,1550,88,11,"onScaleEnd"],[1,1561,88,22,"this"],[1,1567,89,6,"this"],[1,1572,89,11,"inProgress"],[1,1584,89,24],[1,1586,90,6,"this"],[1,1591,90,11,"initialSpan"],[1,1603,90,25,"span"],[1,1606,93,8,"configChanged"],[1,1610,94,6,"this"],[1,1615,94,11,"initialSpan"],[1,1627,94,25,"this"],[1,1632,94,30,"prevSpan"],[1,1641,94,41,"this"],[1,1646,94,46,"_currentSpan"],[1,1659,94,61,"span"],[1,1663,97,9,"this"],[1,1668,97,14,"inProgress"],[1,1680,97,28,"span"],[1,1683,97,36,"this"],[1,1688,97,41,"minSpan"],[1,1698,97,53,"wasInProgress"],[1,1701,97,70,"Math"],[1,1706,97,75,"abs"],[1,1710,97,79,"span"],[1,1712,97,86,"this"],[1,1717,97,91,"initialSpan"],[1,1730,97,106,"this"],[1,1735,97,111,"spanSlop"],[1,1747,98,6,"this"],[1,1752,98,11,"prevSpan"],[1,1761,98,22,"this"],[1,1766,98,27,"_currentSpan"],[1,1779,98,42,"span"],[1,1781,99,6,"this"],[1,1786,99,11,"prevTime"],[1,1795,99,22,"this"],[1,1800,99,27,"currentTime"],[1,1812,100,6,"this"],[1,1817,100,11,"inProgress"],[1,1828,100,24,"this"],[1,1833,100,29,"onScaleBegin"],[1,1846,100,42,"this"],[1,1853,104,8,"action"],[1,1857,104,19,"EventTypes"],[1,1870,104,30,"MOVE"],[1,1877,108,4,"this"],[1,1882,108,9,"_currentSpan"],[1,1895,108,24,"span"],[1,1897,110,8,"this"],[1,1902,110,13,"inProgress"],[1,1915,110,28,"this"],[1,1920,110,33,"onScale"],[1,1928,110,41,"this"],[1,1936,114,4,"this"],[1,1941,114,9,"prevSpan"],[1,1950,114,20,"this"],[1,1955,114,25,"currentSpan"],[1,1967,115,4,"this"],[1,1972,115,9,"prevTime"],[1,1981,115,20,"this"],[1,1986,115,25,"currentTime"],[1,2000,111,13],[1,2002,117,2],[1,2003,119,2,"calculateScaleFactor"],[1,2024,119,23,"numOfPointers"],[1,2027,120,4],[1,2034,120,8,"numOfPointers"],[1,2036,120,24],[1,2038,121,13],[1,2040,124,11,"this"],[1,2045,124,16,"prevSpan"],[1,2054,124,27],[1,2056,124,31,"this"],[1,2061,124,36,"currentSpan"],[1,2073,124,50,"this"],[1,2078,124,55,"prevSpan"],[1,2087,124,66],[1,2088,125,2],[1,2089,127,2],[1,2104,127,6,"currentSpan"],[1,2107,128,4],[1,2114,128,11,"this"],[1,2119,128,16,"_currentSpan"],[1,2131,129,2],[1,2132,131,2],[1,2142,131,6,"focusX"],[1,2145,132,4],[1,2152,132,11,"this"],[1,2157,132,16,"_focusX"],[1,2164,133,2],[1,2165,135,2],[1,2175,135,6,"focusY"],[1,2178,136,4],[1,2185,136,11,"this"],[1,2190,136,16,"_focusY"],[1,2197,137,2],[1,2198,139,2],[1,2211,139,6,"timeDelta"],[1,2214,140,4],[1,2221,140,11,"this"],[1,2226,140,16,"currentTime"],[1,2238,140,30,"this"],[1,2243,140,35,"prevTime"],[1,2251,141,2],[1,2253,143,1],[1,2256]],"functionMap":{"names":["_defineProperty","<global>","ScaleGestureDetector","constructor","onTouchEvent","tracker.trackedPointers.forEach$argument_0","calculateScaleFactor","get__currentSpan","get__focusX","get__focusY","get__timeDelta"],"mappings":"AAA,iNC;eCI;ECC;GDgC;EEE;oCC6B;KDO;GFyC;EIE;GJM;EKE;GLE;EME;GNE;EOE;GPE;EQE;GRE;CDE"}},"type":"js/module"}]}